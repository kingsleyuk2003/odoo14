<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>
	<record model="ir.module.category" id="module_category_kkon_fob_modifications">
            <field name="name">KKON/FOB Modifications</field>
	</record>

	<record id="group_kkon_ticket_installation_close_notify" model="res.groups">
			<field name="name">KKON/FOB Installation Close Ticket Email Notification</field>
		<field name="category_id" ref="module_category_kkon_fob_modifications"/>
	</record>

    <record id="group_kkon_ticket_call_close_notify" model="res.groups">
			<field name="name">KKON/FOB Call Log Close Ticket Email Notification</field>
		<field name="category_id" ref="module_category_kkon_fob_modifications"/>
	</record>


	<record id="group_kkon_ticket_survey_close_notify" model="res.groups">
			<field name="name">KKON/FOB Survey Close Ticket Email Notification</field>
		<field name="category_id" ref="module_category_kkon_fob_modifications"/>
	</record>

    <record id="group_kkon_ticket_updown_close_notify" model="res.groups">
			<field name="name">KKON/FOB Change Request Close Ticket Email Notification</field>
		<field name="category_id" ref="module_category_kkon_fob_modifications"/>
	</record>

	<record id="group_kkon_ticket_service_mgt" model="res.groups">
			<field name="name">KKON/FOB Service Management</field>
		<field name="category_id" ref="module_category_kkon_fob_modifications"/>
	</record>

         <record id="group_show_hr_employee_kkon" model="res.groups">
			<field name="name">Show Employee Directory Menu</field>
        <field name="category_id" ref="module_category_kkon_fob_modifications"/>
		</record>

    <record id="group_show_customer_menu_kkon" model="res.groups">
			<field name="name">Show Customer menu</field>
			<field name="category_id" ref="module_category_kkon_fob_modifications"/>
		</record>

<!--	<record id="group_kkon_expense_approver" model="res.groups">-->
<!--			<field name="name">Expense Approver</field>-->
<!--		<field name="category_id" ref="module_category_kkon_fob_modifications"/>-->
<!--	</record>-->

<!--	<record id="group_kkon_expense_auditor_kkon" model="res.groups">-->
<!--			<field name="name">Expense Auditor</field>-->
<!--		<field name="category_id" ref="module_category_kkon_fob_modifications"/>-->
<!--	</record>-->

	<record id="group_kkon_other_expense_fields_kkon" model="res.groups">
			<field name="name">See Other Extra Expense Fields</field>
		<field name="category_id" ref="module_category_kkon_fob_modifications"/>
	</record>

	<record id="group_show_confirm_btn" model="res.groups">
			<field name="name">Show "Manager Make Order" button on Sales Order</field>
			<field name="category_id" ref="module_category_kkon_fob_modifications"/>
    </record>

		<record id="group_receive_quotation_confirmed_email" model="res.groups">
			<field name="name">Receive "Manager Make Order" Email Notification</field>
			<field name="comment" >The people that should be notified will get an email when a quotation is confirmed/converted to sale order</field>
			<field name="category_id" ref="module_category_kkon_fob_modifications"/>
		</record>

	<record id="group_receive_quotation_confirmed_email_to_approve" model="res.groups">
			<field name="name">Receive "Sale Order Requires Approval or Disapproval" Email Notification</field>
			<field name="comment" >The people that should be notified will get an email when a quotation is confirmed/converted to sale order and it requires approval and disapproval</field>
			<field name="category_id" ref="module_category_kkon_fob_modifications"/>
		</record>

		<record id="group_receive_approve_sale_order_email" model="res.groups">
			<field name="name">Receive "Accountant Approve Order" Email Notification</field>
			<field name="comment" >The people that should be notified will get an email when a sale order is approved before stock is committed</field>
			<field name="category_id" ref="module_category_kkon_fob_modifications"/>
		</record>

		<record id="group_receive_disapprove_sale_order_email" model="res.groups">
			<field name="name">Receive "Accountant Disapprove Order" Email Notification</field>
			<field name="comment" >The people that should be notified will get an email when a sale order is disapproved</field>
			<field name="category_id" ref="module_category_kkon_fob_modifications"/>
		</record>

	<record id="group_show_approve_btn" model="res.groups">
			<field name="name">Show "Accountant Approve Order" Button on Sales Order</field>
			<field name="category_id" ref="module_category_kkon_fob_modifications"/>
		</record>

	<record id="group_show_disapprove_btn" model="res.groups">
			<field name="name">Show "Accountant Disapprove Order" Button on Sales Order</field>
			<field name="category_id" ref="module_category_kkon_fob_modifications"/>
	</record>

	 <record id="group_helpdesk_qa_ticket" model="res.groups">
        <field name="name">Show Quality Assurance Ticket Button</field>
        <field name="category_id" ref="module_category_kkon_fob_modifications"/>
    </record>


	 <record id="group_helpdesk_maint_ticket" model="res.groups">
        <field name="name">Show Maintenance Ticket Button</field>
        <field name="category_id" ref="module_category_kkon_fob_modifications"/>
    </record>

    <record id="group_helpdesk_call_ticket" model="res.groups">
        <field name="name">Show Close Call Log Ticket Button</field>
        <field name="category_id" ref="module_category_kkon_fob_modifications"/>
    </record>

	<record id="group_helpdesk_receive_qa_ticket_email" model="res.groups">
        <field name="name">Receive "Quality Assurance Ticket" Email</field>
        <field name="category_id" ref="module_category_kkon_fob_modifications"/>
    </record>

	<record id="group_helpdesk_receive_maint_ticket_email" model="res.groups">
        <field name="name">Receive "Maintenance Ticket" Email</field>
        <field name="category_id" ref="module_category_kkon_fob_modifications"/>
    </record>

     <record id="group_helpdesk_integration_ticket" model="res.groups">
        <field name="name">Show Integration Ticket Button</field>
        <field name="category_id" ref="module_category_kkon_fob_modifications"/>
    </record>

	<record id="group_helpdesk_receive_integration_ticket_email" model="res.groups">
        <field name="name">Receive "Integration Ticket" Email</field>
        <field name="category_id" ref="module_category_kkon_fob_modifications"/>
    </record>

     <record id="group_hr_expense_kkon_status" model="res.groups">
        <field name="name">Show KKON Expense Status Menu</field>
        <field name="category_id" ref="module_category_kkon_fob_modifications"/>
    </record>

     <record id="group_hr_expense_fob_status" model="res.groups">
        <field name="name">Show FOB Expense Status Menu</field>
        <field name="category_id" ref="module_category_kkon_fob_modifications"/>
    </record>

    <record id="group_show_expense_application_kkon" model="res.groups">
			<field name="name">Show Expense Application</field>
            <field name="category_id" ref="module_category_kkon_fob_modifications"/>
    </record>

     <record id="group_hr_expense_group_reset" model="res.groups">
        <field name="name">Show Expense Reset Button</field>
        <field name="category_id" ref="module_category_kkon_fob_modifications"/>
    </record>

     <record id="group_hr_expense_line_manager" model="res.groups">
        <field name="name">Line Manager for Expense Approval</field>
        <field name="category_id" ref="module_category_kkon_fob_modifications"/>
    </record>

    <record id="group_upcountry_chk_kkon" model="res.groups">
        <field name="name">Show Up Country Checkbox</field>
        <field name="category_id" ref="module_category_kkon_fob_modifications"/>
    </record>




<!--	<record id="hr_expense_department_manager_approve_rule" model="ir.rule">-->
<!--            <field name="name" >HR Expense Department Manager</field>-->
<!--            <field name="model_id" ref="model_hr_expense"/>-->
<!--             <field name="groups" eval="[(4, ref('group_kkon_expense_approver'))]"/>-->
<!--            <field name="domain_force">['|',('department_manager_id','=',user.id),('department_manager_id','=',False)]</field>-->
<!--            <field name="active" eval="True"/>-->
<!--        </record>-->


</data>

<data>

<delete model="ir.rule" id="base.res_partner_rule"/>
     <record model="ir.rule" id="base.res_partner_rule">
            <field name="name">res.partner company</field>
            <field name="model_id" ref="model_res_partner"/>
            <!--
                Show partners from ancestors and descendants companies
                (or company-less), this is usually a better default for
                multicompany setups.
            -->
          <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
            <field name="domain_force">['|','|',('company_id.child_ids','child_of',[user.company_id.id]),('company_id','child_of',[user.company_id.id]),('company_id','=',False)]</field>
            <field name="active" eval="False"/>
        </record>


        <record id="user_ticket_kkon_qa_user_rule" model="ir.rule">
            <field name="name" >Ticket Helpdesk User QA KKON</field>
            <field name="model_id" ref="model_kin_ticket"/>
            <field name="groups" eval="[(4, ref('kin_helpdesk.group_helpdesk_user'))]"/>
            <field name="domain_force">[('user_qa_ticket_group_id','in', [g.id for g in user.user_ticket_group_ids])]</field>
            <field name="active" eval="True"/>
        </record>

		<record id="user_ticket_kkon_intg_user_rule" model="ir.rule">
            <field name="name" >Ticket Helpdesk User Integration KKON</field>
            <field name="model_id" ref="model_kin_ticket"/>
            <field name="groups" eval="[(4, ref('kin_helpdesk.group_helpdesk_user'))]"/>
            <field name="domain_force">[('user_intg_ticket_group_id','in', [g.id for g in user.user_ticket_group_ids])]</field>
            <field name="active" eval="True"/>
        </record>


	<record id="user_ticket_kkon_init_user_rule" model="ir.rule">
            <field name="name" >Ticket Helpdesk User Opener KKON</field>
            <field name="model_id" ref="model_kin_ticket"/>
            <field name="groups" eval="[(4, ref('kin_helpdesk.group_helpdesk_user'))]"/>
            <field name="domain_force">[('initiator_ticket_group_id','in', [g.id for g in user.user_ticket_group_ids])]</field>
            <field name="active" eval="True"/>
        </record>

	<record id="user_ticket_kkon_maint_user_rule" model="ir.rule">
            <field name="name" >Ticket Helpdesk User Maintenance Close KKON</field>
            <field name="model_id" ref="model_kin_ticket"/>
            <field name="groups" eval="[(4, ref('kin_helpdesk.group_helpdesk_user'))]"/>
            <field name="domain_force">[('user_maint_ticket_group_id','in', [g.id for g in user.user_ticket_group_ids])]</field>
            <field name="active" eval="True"/>
        </record>


	<!-- Expense Employees  -->
	 <record id="user_hr_expense_user_kkon_accountant_rule" model="ir.rule">
            <field name="name" >HR Expense Accountant User</field>
            <field name="model_id" ref="model_hr_expense"/>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
            <field name="domain_force">[('emp_expense_group_acc_id','in', [g.id for g in user.emp_expense_group_ids])]</field>
            <field name="active" eval="True"/>
        </record>

	 <record id="user_hr_expense_user_kkon_auditor_rule" model="ir.rule">
            <field name="name" >HR Expense Auditor User</field>
            <field name="model_id" ref="model_hr_expense"/>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
            <field name="domain_force">[('emp_expense_group_aud_id','in', [g.id for g in user.emp_expense_group_ids])]</field>
            <field name="active" eval="True"/>
        </record>

    <record id="hr_expense_group_employee_kkon_rule" model="ir.rule">
            <field name="name" >HR Expense Employee KKON rule</field>
            <field name="model_id" ref="model_hr_expense_group_kkon"/>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
            <field name="domain_force">['|',('employee_id.user_id.id','=',user.id),('employee_id.user_id.id','=',False)]</field>
            <field name="active" eval="True"/>
        </record>

    <record id="hr_expense_line_manager_kkon_rule" model="ir.rule">
            <field name="name" >HR Expense Line Manager KKON rule</field>
            <field name="model_id" ref="model_hr_expense"/>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
            <field name="domain_force">['|',('line_manager_id.user_id','=',user.id),('line_manager_id.user_id','=',False)]</field>
            <field name="active" eval="True"/>
        </record>

    	<record id="hr_expense_group_line_manager_kkon_rule" model="ir.rule">
            <field name="name" >HR Expense Line Group Manager KKON rule</field>
            <field name="model_id" ref="model_hr_expense_group_kkon"/>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
            <field name="domain_force">['|',('line_manager_id.user_id','=',user.id),('line_manager_id.user_id','=',False)]</field>
            <field name="active" eval="True"/>
        </record>

    <record id="hr_expense_group_general_kkon_rule" model="ir.rule">
            <field name="name" >HR Expense General Group KKON rule</field>
            <field name="model_id" ref="model_hr_expense_group_kkon"/>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
         <field name="domain_force">[('emp_expense_group_general_id','in', [g.id for g in user.emp_expense_group_ids])]</field>
            <field name="active" eval="True"/>
        </record>


<!-- Multi-company for the HR expense application -->
    <delete model="ir.rule" id="hr_expense.hr_expense_comp_rule"/>
    <record id="hr_expense.hr_expense_comp_rule" model="ir.rule">
            <field name="name">Expense multi company rule extend</field>
            <field name="model_id" ref="model_hr_expense"/>
            <field eval="True" name="global"/>
             <field name="perm_read" eval="0"/>
            <field name="perm_write" eval="False"/>
            <field name="domain_force">['|',('company_id', '=', False), ('company_id', 'child_of', [user.company_id.id])]</field>
        </record>

     <delete model="ir.rule" id="hr.hr_dept_comp_rule"/>
    <record id="hr.hr_dept_comp_rule" model="ir.rule">
        <field name="name">Department multi company rule kkon extend</field>
        <field name="model_id" ref="hr.model_hr_department"/>
        <field eval="True" name="global"/>
         <field name="perm_read" eval="0"/>
        <field name="domain_force">['|',('company_id','=',False),('company_id','child_of',[user.company_id.id])]</field>
    </record>

    <delete model="ir.rule" id="base.res_users_rule"/>
     <record id="base.res_users_rule" model="ir.rule">
            <field name="name">user rule kkon extend</field>
            <field name="model_id" ref="model_res_users"/>
            <field eval="True" name="global"/>
          <field name="perm_read" eval="0"/>
            <field name="domain_force">[('company_ids','child_of',[user.company_id.id])]</field>
        </record>




    <record id="group_send_by_email_kkon_account" model="res.groups">
        <field name="name">Show "Send by Email" button for KKON Accountants</field>
        <field name="category_id" ref="module_category_kkon_fob_modifications"/>
    </record>

    <record id="group_send_by_email_fob_account" model="res.groups">
        <field name="name">Show "Send by Email" button for FOB Accountants</field>
        <field name="category_id" ref="module_category_kkon_fob_modifications"/>
    </record>

    <record id="group_push_ebilling_customer" model="res.groups">
        <field name="name">Show "Re-Push Ebilling Customer" button</field>
        <field name="category_id" ref="module_category_kkon_fob_modifications"/>
    </record>

    </data>

</odoo>
