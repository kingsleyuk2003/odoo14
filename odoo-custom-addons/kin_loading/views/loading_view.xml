<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>



        <menuitem action="sale.action_orders"
            id="menu_sale_order" parent="account.menu_finance_receivables"
            sequence="0" groups="account.group_account_invoice"/>

        <menuitem id="menu_root_dispatch_operation" name="Depot Operations" parent="stock.menu_stock_root" sequence="1" groups="group_depot_officer,group_depot_manager" />
        <menuitem id="menu_dispatch_operation" name="Reports" parent="menu_root_dispatch_operation" sequence="1000"  />
        <menuitem id="menu_depot_configuration" name="Configuration" parent="menu_root_dispatch_operation" sequence="1001"  />

<!--        <menuitem id="menu_sale_loading_report" name="Sales Report" parent="menu_dispatch_operation" sequence="4" action="action_sales_loading_report_wizard" icon="STOCK_PRINT" />-->
<!--        <menuitem id="menu_stock_dispatch" name="Stock Dispatch Report" parent="menu_dispatch_operation" sequence="5" action="action_stock_dispatch_wizard" icon="STOCK_PRINT" />-->
<!--        <menuitem id="menu_stock_picking_loading" name="Loading Ticket Report" parent="menu_dispatch_operation" sequence="6" action="action_stock_picking_wizard" icon="STOCK_PRINT" />-->
<!--        <menuitem id="menu_customer_stock_summary_report" name="Customer Stock Summary Report" parent="menu_dispatch_operation" sequence="8" action="action_customer_stock_summary_report_wizard" icon="STOCK_PRINT" />-->
<!--        <menuitem id="menu_sale_order_loading_report" name="Sales Report"  action="action_sales_loading_report_wizard" parent="base.menu_sale_report"  sequence="29"  icon="STOCK_PRINT" />-->
<!--                -->

        <menuitem id="menu_loading_operation" name="Loading Operations" parent="stock.menu_stock_root" sequence="2" groups="group_depot_officer,group_depot_manager" />
        <menuitem id="menu_root_loading_programme_operation" name="Loading Programme" parent="menu_root_dispatch_operation" sequence="1" groups="group_throughput_receipt,group_depot_officer,group_depot_manager" />
        <menuitem id="menu_root_in_depot_operation" name="In-Depot Operations" parent="menu_root_dispatch_operation" sequence="2" groups="group_throughput_receipt,group_depot_officer,group_depot_manager" />
        <menuitem id="menu_root_throughput_operation" name="Throughput Operations" parent="menu_root_dispatch_operation" sequence="4" groups="group_throughput_receipt,group_depot_officer,group_depot_manager" />
        <menuitem id="menu_root_internal_use_operation" name="Internal Use Transfer Operations" parent="menu_root_dispatch_operation" sequence="5" groups="group_throughput_receipt,group_depot_officer,group_depot_manager" />

         <menuitem id="menu_root_atl" name="Authority to Load" parent="menu_depot_configuration" sequence="5" groups="group_depot_officer,group_depot_manager" />
         <menuitem name="Vessels" action="stock.action_production_lot_form" id="stock.menu_action_production_lot_form" parent="menu_root_atl" groups="stock.group_production_lot" sequence="0" />

        <!-- All Transfers -->
        <record id="action_all_transfers_view_tree" model="ir.actions.act_window.view">
            <field name="sequence">1</field>
            <field name="view_mode">tree</field>
             <field name="view_id" ref="stock.vpicktree" />
            <field name="act_window_id" ref="stock.action_picking_tree_all"/>
        </record>


<!-- Loading Programme -->
        <record id="view_loading_programme_form" model="ir.ui.view" >
            <field name="name" >loading.programme.form</field>
            <field name="model">loading.programme</field>
            <field name="arch" type="xml" >

                <form string="Loading Programme" duplicate="0" >
                    <header>
                        <button name="action_confirm" type="object" states="draft" string="Confirm" class="oe_highlight" groups="kin_loading.group_depot_officer" />
                        <button name="action_approve" type="object" states="confirm" string="Approve" class="oe_highlight" groups="kin_loading.group_depot_manager" />
                        <button name="%(action_disapproval_reason)d" type="action" states="confirm" string="Dis-Approve" groups="kin_loading.group_depot_manager" />
                        <button name="action_cancel" states="confirm,approve" type="object" string="Cancel" confirm="Are you sure you want to Cancel the Loading Programme?"/>
                        <button name="action_draft" states="confirm,approve,cancel" type="object" string="Reset to Draft" confirm="Are you sure you want to Reset the Loading Programme?" />
                        <button name="%(action_loading_programme_wizard)d" type="action" states="approve" string="Export Loading Programme in Excel"  class="oe_highlight" groups="kin_loading.group_depot_officer,kin_loading.group_depot_manager" />
                        <field name="state" widget="statusbar"  />
                    </header>
                    <sheet>
                         <div class="oe_button_box" name="button_box">
                             <button type="object"  name="btn_view_tickets" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('ticket_count', '=', 0)]}" >
                                    <field name="ticket_count" widget="statinfo" string="Tickets"/>
                            </button>
                        </div>
                        <div class="oe_title">
                            <h1>
                                <field name="name" readonly="1" />
                            </h1>
                        </div>
                        <group col="4" >
                            <field name="programme_date" context="{'loading_programme_date':programme_date}" string="Date" attrs="{'readonly': [('state', 'not in', ['draft'])]}" required="True" />
                             <field name="product_id"  domain="[('white_product','in',['pms','ago','kero','atk','lpfo'])]"  required="1"  attrs="{'readonly': [('state', '!=', 'draft')]}" options="{'no_open':True,'no_create':True}" />
                        </group>
                         <notebook>
                            <page string="Loading Tickets"  >
                                <field name="ticket_ids" context="{'loading_programme_date':programme_date}"  attrs="{'readonly': [('state', 'not in', ['draft'])]}" domain="[('is_block_ticket','=',False),('is_loading_ticket','=',True),('state','not in',('done','cancel')),('product_id','=',product_id)]">
                                    <tree string="Loading Tickets" editable="bottom"   >
                                        <field name="ticket_id"  readonly="1" string="Ticket No."  />
                                        <field name="partner_id" string="Customer" readonly="1" />
                                        <field name="product_id"  />
                                        <field name="ticket_load_qty" string="Quantity" readonly="1" sum="Total" />
                                          <field name="truck_no" />
                                        <field name="dpr_info_id"   domain="[('customer_id','=',partner_id)]" options="{'no_open':True,'no_create':True}"  />
                                          <field name="dpr_no" readonly="1"  force_save="1"   />
                                        <field name="dpr_status" readonly="1"  force_save="1" />
                                        <field string="Waybill Status" name="state" readonly="1" />
                                    </tree>
                                    <form>
                                        <group col="4">
                                            <field name="ticket_id" readonly="1" string="Ticket No."  />
                                            <field name="partner_id" string="Customer" readonly="1" />
                                            <field name="product_id"  />
                                            <field name="truck_no" />
                                            <field name="ticket_load_qty" string="Quantity" readonly="1" sum="Total" />
                                            <field name="dpr_info_id" domain="[('customer_id','=',partner_id)]" options="{'no_open':True,'no_create':True}"  />
                                            <field name="dpr_no" readonly="1"  force_save="1"   />
                                            <field name="dpr_status" readonly="1"  force_save="1" />
                                            <field string="Waybill Status" name="state" readonly="1" />
                                        </group>
                                    </form>
                                </field>
                            </page>
                             <page string="Approvals/Dates"  >
                                 <group col="4"  >
                                     <field name="depot_officer_id" readonly="1" />
                                     <field name="depot_officer_date" readonly="1" />
                                     <field name="depot_manager_id" readonly="1" />
                                     <field name="depot_manager_date" readonly="1" />
                                 </group>
                             </page>
                             <page string="Dis-Approvals/Dates/Reasons"  >
                                 <group col="4"  >
                                     <group col="2" string="Depot Manager" >
                                         <field name="depot_manager_disapprove_id" readonly="1" />
                                         <field name="depot_manager_disapprove_date" readonly="1" />
                                         <field name="depot_manager_reason" readonly="1" />
                                     </group>
                                 </group>
                             </page>
                         </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>


        <record id="view_loading_programme_tree" model="ir.ui.view" >
            <field name="name" >loading.programme.tree</field>
            <field name="model">loading.programme</field>
            <field name="arch" type="xml" >
                <tree string="Loading Programme" >
                    <field name="name" />
                    <field name="programme_date" />
                </tree>
            </field>
        </record>

        <record id="view_loading_programme_filter" model="ir.ui.view">
            <field name="name">loading.programme.select</field>
            <field name="model">loading.programme</field>
            <field name="arch" type="xml">
                <search string="Search Loading Programme">
                    <field name="name" string="Programme" filter_domain="[('name','ilike',self)]"/>
                    <group expand="0" string="Group By">
<!--                       <filter string="Programme Date" domain="[]" context="{'group_by':'programme_date'}"/>-->
                    </group>
                </search>
            </field>
        </record>

        <record id="action_loading_programme_form" model="ir.actions.act_window" >
            <field name="name" >Loading Programme</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">loading.programme</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_loading_programme_filter"/>
            <field name="context">{}</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add a Loading Programme
              </p>
            </field>
        </record>
        <menuitem id="menu_loading_programme_form" name="Loading Programme" parent="menu_root_loading_programme_operation" sequence="1" action="action_loading_programme_form"/>




        <!-- Sales Order form -->
        <record id="view_order_form_loading_extend" model="ir.ui.view">
            <field name="name">sale.order.form.loading.extend</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_order_form" />
            <field name="arch" type="xml">
                <xpath expr="//form" position="attributes" >
                    <attribute name="duplicate">0</attribute>
                </xpath>
                <div position="inside" name="button_box">
                     <button type="object"  name="btn_view_refund_invoice" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('ref_count', '=', 0)]}"  groups="account.group_account_user" >
                         <field name="ref_count" widget="statinfo" string="Refund Invoice"/>
                     </button>
                    <button type="object"  name="btn_view_transfer_invoice" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('tran_count', '=', 0)]}"  groups="account.group_account_user" >
                         <field name="tran_count" widget="statinfo" string="Transfer Invoice"/>
                     </button>
<!--                     <button type="object"  name="btn_view_jnr" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('jnr_count', '=', 0)]}"  groups="account.group_account_user" >-->
<!--                         <field name="jnr_count" widget="statinfo" string="Customer Account Moves"/>-->
<!--                     </button>-->
                     <button type="object"  name="btn_view_child_sales_orders" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('cso_count', '=', 0)]}"   >
                         <field name="cso_count" widget="statinfo" string="Transferred Sales Orders"/>
                     </button>
                     <button type="object"  name="btn_view_stock_moves" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('stock_move_count', '=', 0)]}"  groups="stock.group_stock_manager" >
                         <field name="stock_move_count" widget="statinfo" string="Stock Moves"/>
                     </button>
                 </div>


                <button name="action_cancel"  type="object"  position="attributes">
                     <attribute name="states">draft,sent,sale,so_to_approve,sale,no_sale,atl_awaiting_approval</attribute>
                 </button>

                 <button name="action_cancel"  position="before" >
                     <button name="action_atl_approval" states="atl_awaiting_approval" context="{'show_sale': True}"  string="Approve ATL" class="btn-primary" type="object" groups="kin_loading.group_show_approve_atl"   />
                     <button name="action_submit_to_manager" states="draft,sent" context="{'show_sale': True}"  string="Submit" class="btn-primary" type="object" groups="kin_loading.group_show_submit_sale_to_manager"   />
                      <button name="action_confirm_main_sale" states="so_to_approve" context="{'show_sale': True}"  string="Approve Sales Order" class="btn-primary" type="object" groups="kin_loading.group_show_confirm_main_sale"   />
                       <button name="%(action_disapprove_sale_orders)d"   string="Disapprove Sales Order" class="btn-primary" type="action"  attrs="{'invisible':[('state', '!=', 'so_to_approve')]}" context="{'show_sale': True}" groups="kin_loading.group_show_disapprove_btn"/>
                        <button name="action_ticket_wizard" states="atl_approved" context="{'is_load_ticket_btn':True}"  string="Create Loading Ticket" class="btn-primary" type="object" groups="kin_loading.group_show_create_loading_ticket"  />
                      <button  name="%(action_cancel_qty)d" states="atl_approved"  string="Cancel Remaining Product Qty."  type="action" groups="kin_loading.group_show_cancel_remaining_order"    />
                      <button name="action_transfer_wizard" states="atl_approved" context="{'is_order_transfer_btn':True}"  string="Transfer Product Qty."  type="object" groups="kin_loading.group_show_transfer_order"  />
                          <button name="action_reset" states="no_sale,atl_awaiting_approval"   string="Reset to Draft" type="object" groups="kin_loading.group_show_sale_reset"   />
                 </button>
                <xpath expr="//button[@name='action_confirm'][1]" position="attributes" >
                    <attribute name="string" >Confirm Other Sale</attribute>
                    <attribute name="groups" >kin_loading.group_show_confirm_other_sale</attribute>
                </xpath>
                <xpath expr="//button[@name='action_confirm'][2]" position="attributes" >
                    <attribute name="string" >Confirm Other Sale</attribute>
                     <attribute name="groups" >kin_loading.group_show_confirm_other_sale</attribute>
                </xpath>


                 <xpath expr="//tree/field[@name='product_uom_qty']" position="after" >
                     <field name="transfer_created_qty" readonly="1" optional="hide" />
                     <field name="cancelled_remaining_qty" readonly="1" optional="hide" />
                     <field name="ticket_remaining_qty" optional="hide" />
                     <field name="ticket_created_qty" readonly="1"  optional="hide"  />

                </xpath>
                <xpath expr="//tree/field[@name='qty_delivered']" position="after" >
                     <field name="unloaded_balance_qty" optional="hide"  />
                    <field name="balance_qty" optional="hide"  />

                </xpath>
                 <xpath expr="//tree/field[@name='qty_delivered']" position="attributes" >
                         <attribute name="string" >Loaded Qty.</attribute>
                 </xpath>

                <!--<field name="client_order_ref" position="after" >-->
                    <!--<field name="authorization_code" />-->
                <!--</field>-->


                 <group name="sale_info" position="after">
                      <group name="order_status" string="Order Status and Source">
                            <field name="is_has_advance_invoice" readonly="1" />
                           <field name="advance_invoice_id" readonly="1" />
                          <field name="is_advance_invoice_validated" readonly="1" />
                          <field name="is_cancelled_invoice" readonly="1" />
                            <field name="is_cancelled_order" readonly="1" />
                          <field name="is_transferred_order" readonly="1" />
                          <field name="parent_sales_order_transfer_id" readonly="1"/>
                          <field name="root_order_transfer_id" readonly="1" />
                          <field name="root_customer_id" readonly="1" />
                          <field name="is_throughput_order" readonly="1" />
                          <field name="throughput_receipt_source_id" readonly="1" />
                           <field name="is_internal_use_order" readonly="1" />
                          <field name="internal_use_source_id" readonly="1" />
                      </group>
                     <group name="approval" string="Approval" >
                         <field name="confirmed_by_user_id" />
                         <field name="approved_by_user_id" />
                         <field name="disapproved_by_user_id" />
                     </group>
                 </group>



                <page name="order_lines" position="after" >
                    <page name="atl" string="Authority to Load"  attrs="{'invisible': [('state', 'not in', ['atl_awaiting_approval','atl_approved','sale'])], 'readonly': [('state', 'in', ['atl_approved','cancel'])]}" >
                        <group col="4" >
                            <field name="atl_partner_id" options = "{'no_open':True,'no_create':True}" />
                            <field name="atl_product_id" options = "{'no_open':True,'no_create':True}" />
                            <field name="atl_qty" />
                            <field name="atl_payment_mode_id"  options = "{'no_open':True,'no_create':True}" attrs="{'readonly': [('state', 'in', ['atl_approved','cancel'])]}" />
                            <field name="atl_depot_id" options = "{'no_open':True,'no_create':True}"  attrs="{'readonly': [('state', 'in', ['atl_approved','cancel'])]}"  />
                            <field name="atl_jetty_id" options = "{'no_open':True,'no_create':True}"  attrs="{'readonly': [('state', 'in', ['atl_approved','cancel'])]}"  />
                        </group>
                    </page>
                </page>
            </field>
        </record>

 <record model="ir.ui.view" id="view_company_kin_loading">
                    <field name="name">res.company.form.kin.loading</field>
                    <field name="inherit_id" ref="base.view_company_form"/>
                    <field name="model">res.company</field>
                    <field name="arch" type="xml">
                        <notebook position="inside">
                            <page string="Loading Info.">
                                <group>
                                     <field name="header_logo_loading"  />
                                    <field name="header_data_loading"  />
                                    <field name="loading_tc_note"  />
                                    <field name="is_generate_loading_date"  />
                                    <field name="loading_date_interval" attrs="{'required': [('is_generate_loading_date', '=', True)]}"  />
                                </group>
                            </page>
                        </notebook>
                    </field>
                </record>





        <record id="view_order_form_inherit_sale_stock_loading_extend" model="ir.ui.view">
            <field name="name">sale.order.form.sale.stock.loading.extend</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale_stock.view_order_form_inherit_sale_stock"/>
            <field name="arch" type="xml">
                    <field name="delivery_count"   position="attributes" >
                         <attribute name="string">Loading Doc.(s)</attribute>
                    </field>
            </field>
        </record>




<!-- <record id="view_sales_order_line_search_extend_loading" model="ir.ui.view">-->
<!--            <field name="name">sale.order.line.search</field>-->
<!--            <field name="model">sale.order.line</field>-->
<!--             <field name="inherit_id" ref="kin_sales.view_sales_order_line_search_extend"  />-->
<!--            <field name="arch" type="xml">-->
<!--               <field name="order_id" position="before" >-->
<!--                     <field name="advance_invoice_name"  filter_domain="[('advance_invoice_name','ilike',self)]" />-->
<!--                </field>-->
<!--            </field>-->
<!--        </record>-->

        <!-- Kin Sales -->
<!--         <record id="view_order_line_tree_extend_loading" model="ir.ui.view">-->
<!--            <field name="name">sale.order.line.tree.extend.loading</field>-->
<!--            <field name="model">sale.order.line</field>-->
<!--             <field name="inherit_id" ref="kin_sales.view_order_line_tree_extend" />-->
<!--            <field name="arch" type="xml">-->
<!--                <field name="product_id" position="before" >-->
<!--                     <button name="action_view_order"     string="Go To Order" type="object"    />-->

<!--                </field>-->
<!--                <field name="order_id" position="after" >-->
<!--                     <field name="advance_invoice_id"  readonly="1"/>-->
<!--                </field>-->
<!--                <field name="product_uom_qty" position="after" >-->

<!--                     <field name="transfer_created_qty" readonly="1" />-->
<!--                     <field name="cancelled_remaining_qty" readonly="1" />-->
<!--                     <field name="ticket_remaining_qty" />-->
<!--                     <field name="ticket_created_qty"  />-->
<!--                </field>-->
<!--                <field name="product_uom_qty" position="attributes" >-->
<!--                    <attribute name="string" >Ordered Qty.</attribute>-->
<!--                </field>-->
<!--                <field name="qty_delivered" position="after" >-->
<!--                     <field name="unloaded_balance_qty"  />-->
<!--                    <field name="balance_qty" />-->
<!--                     <field name="parent_sales_order_transfer_id" readonly="1"/>-->
<!--                          <field name="root_order_transfer_id" readonly="1" />-->
<!--                         <field name="root_customer_id" readonly="1" />-->

<!--                </field>-->
<!--                 <field name="qty_delivered" position="attributes" >-->
<!--                     <attribute name="string" >Dispatched Qty.</attribute>-->
<!--                 </field>-->
<!--            </field>-->
<!--         </record>-->

<!--         <record id="action_sale_order_loading_ticket_lines" model="ir.actions.act_window">-->
<!--            <field name="name">In Depot Order Lines</field>-->
<!--            <field name="res_model">sale.order.line</field>-->
<!--            <field name="context">{'search_default_groupby_product': 1,'search_default_groupby_cust': 1}</field>-->
<!--            <field name="domain">[('state', 'in', ['sale', 'done']),('is_throughput_order','=',False),('is_internal_use_order','=',False)]</field>-->
<!--            <field name="view_mode">tree,pivot,graph</field>-->
<!--            <field name="view_id" ref="kin_sales.view_order_line_tree_extend"/>-->
<!--             <field name="search_view_id" ref="kin_sales.view_sales_order_line_search_extend"/>-->
<!--        </record>-->

<!--         <menuitem action="action_sale_order_loading_ticket_lines"-->
<!--            id="menu_sale_order_lines_loading" parent="menu_root_in_depot_operation"-->
<!--            sequence="1" />-->


<!--        &lt;!&ndash; Throughput Order Lines &ndash;&gt;-->
<!--         <record id="action_sale_order_throughput_lines" model="ir.actions.act_window">-->
<!--            <field name="name">Throughput Order Lines</field>-->
<!--            <field name="res_model">sale.order.line</field>-->
<!--            <field name="context">{'search_default_groupby_product': 1,'search_default_groupby_cust': 1}</field>-->
<!--            <field name="domain">[('state', 'in', ['sale', 'done']),('is_throughput_order','=',True)]</field>-->
<!--            <field name="view_mode">tree,pivot,graph</field>-->
<!--            <field name="view_id" ref="kin_sales.view_order_line_tree_extend"/>-->
<!--             <field name="search_view_id" ref="kin_sales.view_sales_order_line_search_extend"/>-->
<!--        </record>-->

<!--         <menuitem action="action_sale_order_throughput_lines"-->
<!--            id="menu_sale_order_lines_throughput_loading" parent="menu_root_throughput_operation"-->
<!--            sequence="2" />-->


<!--        &lt;!&ndash; Internal Use Transfer  order lines &ndash;&gt;-->
<!--         <record id="action_sale_order_internal_use_lines" model="ir.actions.act_window">-->
<!--            <field name="name">Internal Use Transfer Order Lines</field>-->
<!--            <field name="res_model">sale.order.line</field>-->
<!--            <field name="context">{'search_default_groupby_product': 1,'search_default_groupby_cust': 1}</field>-->
<!--            <field name="domain">[('state', 'in', ['sale', 'done']),('is_internal_use_order','=',True)]</field>-->
<!--            <field name="view_mode">tree,pivot,graph</field>-->
<!--            <field name="view_id" ref="kin_sales.view_order_line_tree_extend"/>-->
<!--             <field name="search_view_id" ref="kin_sales.view_sales_order_line_search_extend"/>-->
<!--        </record>-->

<!--         <menuitem action="action_sale_order_internal_use_lines"-->
<!--            id="menu_sale_order_lines_internal_use_loading" parent="menu_root_internal_use_operation"-->
<!--            sequence="2" />-->




<!--<record id="view_immediate_transfer_extend_loading" model="ir.ui.view">-->
<!--        <field name="name">view_immediate_transfer_loading</field>-->
<!--        <field name="model">stock.immediate.transfer</field>-->
<!--     <field name="inherit_id" ref="kin_stock.view_immediate_transfer_extend"  />-->
<!--        <field name="arch" type="xml">-->
<!--             <xpath expr="//form" position="replace">-->
<!--                 <form string="Dispatch Transfer">-->
<!--                <group>-->
<!--                    <p>-->
<!--                        Click <i>Confirm</i>,-->
<!--                        to process the total quantities.-->
<!--                    </p>-->
<!--                </group>-->
<!--                <footer>-->
<!--                    <button string="Confirm" name="process"  type="object" class="btn-primary"/>-->
<!--                    <button string="Close" class="btn-default" special="cancel" />-->
<!--                </footer>-->
<!--            </form>-->
<!--          </xpath>-->

<!--        </field>-->
<!--    </record>-->

    <record id="view_location_form_extend_loading" model="ir.ui.view">
            <field name="name">stock.location.form.extend.loading</field>
            <field name="model">stock.location</field>
            <field name="inherit_id" ref="stock.view_location_form"  />
            <field name="arch" type="xml">
                <field name="return_location" position="after" >
                    <field name="is_depot_type" />
                    <field name="is_indepot" />
                    <field name="is_default_in_depot_source_location" />
                    <field name="is_throughput" />
                    <field name="is_throughput_parent_view" />
                    <field name="is_throughput_vendor_location" />
                    <field name="is_exdepot" />
                    <field name="is_oper_loss_location" />
                      <field name="is_internal_use" />
                      <field name="is_internal_use_source_location" />
                      <field name="is_internal_use_destination_location" />
                    <field name="is_internal_use_partner_id" attrs="{'invisible': [('is_internal_use', '=', False)], 'required': [('is_internal_use', '=', True)] }" />
                </field>
            </field>
    </record>


         <record id="view_move_form_extend_loading" model="ir.ui.view" >
            <field name="name" >account.move.form.extend.loading</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_move_form" />
            <field name="arch" type="xml">
                 <group id="other_tab_group" position="inside">
                    <group string="Depot Info." id="sale_info" >
                         <field name="sales_order_credit_transfer_id" readonly="1" string="Sales Order Credit Transfer ID" />
                           <field name="is_has_advance_invoice" readonly="1" />
                   <field name="is_advance_invoice" readonly="1" />
                       <field name="sales_order_cancel_id" readonly="1" />
                       <field name="sales_order_transfer_id" readonly="1" />
                       <field name="is_transfer_invoice" readonly="1" />
                       <field name="is_from_inventory" readonly="1" />
                       <field name="is_cancelled_remaining_order" readonly="1" />
                       <field name="is_transfer_order" readonly="1" />
                       <field name="is_throughput_invoice" readonly="1" />
                       <field name="throughput_receipt_id" readonly="1" />
                    </group>
                </group>
            </field>
         </record>

        <record id="view_move_line_form_extend_loading" model="ir.ui.view">
            <field name="name">account.move.line.form.extend.loading</field>
            <field name="model">account.move.line</field>
            <field name="inherit_id" ref="account.view_move_line_form"/>
            <field name="arch" type="xml">
                <field name="move_id" position="before">
                    <field name="sales_order_credit_transfer_id" string="Sales Order Credit Transfer ID" />
                </field>
            </field>
        </record>

<!--        <record id="invoice_form_extend_loading" model="ir.ui.view">-->
<!--            <field name="name">account.invoice.form.extend.loading</field>-->
<!--            <field name="model">account.invoice</field>-->
<!--            <field name="inherit_id" ref="account.invoice_form" />-->
<!--            <field name="arch" type="xml">-->
<!--                <field name="move_id" position="after" >-->
<!--                        <field name="sales_order_cancel_id" readonly="1" />-->
<!--                        <field name="sales_order_transfer_id" readonly="1" />-->
<!--                    <field name="is_transfer_invoice" readonly="1" />-->
<!--                     <field name="throughput_receipt_id" readonly="1" />-->
<!--                </field>-->
<!--            </field>-->
<!--        </record>-->

         <record id="vpicktree_extend_loading" model="ir.ui.view">
            <field name="name">stock.picking.tree.loading</field>
            <field name="model">stock.picking</field>
             <field name="inherit_id" ref="stock.vpicktree"  />
            <field name="arch" type="xml">
                <field name="name" position="before" >
                    <field name="ticket_id" />
                </field>
                <field name="name" position="attributes" >
                    <attribute name="invisible">1</attribute>
                </field>
                <field name="partner_id" position="after" >
                    <field name="waybill_no" />
                    <field name="product_id"  />
                    <field name="ticket_load_qty"  />
                </field>

            </field>
        </record>


        <!-- Stock Picking -->
<!--        <record id="view_stock_picking_form_extend" model="ir.ui.view">-->
<!--            <field name="name">stock.picking.form.extend</field>-->
<!--            <field name="model">stock.picking</field>-->
<!--            <field name="inherit_id" ref="kin_stock.view_picking_form_extend" />-->
<!--            <field name="arch" type="xml">-->
<!--                 <field name="location_dest_id" position="before" >-->
<!--                    <field name="dest_depot_type_id" options = "{'no_open':True,'no_create':True}" attrs="{'invisible': [('operation_type', 'in', ['outgoing'])], 'required': [('operation_type', 'not in', ['outgoing'])], 'readonly': [('state', 'not in', ('draft','confirmed','waiting','partially_available','assigned'))] }" domain="[('is_depot_type','=',True)]"    />-->
<!--                </field>-->

<!--                <field name="location_id" position="before" >-->
<!--                    <field name="source_depot_type_id" options = "{'no_open':True,'no_create':True}" attrs="{'invisible': [('operation_type', 'in', ['incoming'])], 'required': [('operation_type', 'not in', ['incoming'])] , 'readonly': [('state', 'not in', ('draft','confirmed','waiting'))] }" domain="[('is_depot_type','=',True)]"    />-->
<!--                </field>-->

<!--                 <field name="location_id" position="attributes" >-->
<!--                       <attribute name="attrs" >{'invisible': [('operation_type', 'in', ['incoming'])], 'required': [('operation_type', 'not in', ['incoming'])], 'readonly': [('state', 'not in', ('draft','confirmed','waiting'))] }</attribute>-->
<!--                    <attribute name="domain" >[('location_id','=',source_depot_type_id)]</attribute>-->
<!--                </field>-->

<!--                <field name="location_dest_id" position="attributes"  >-->
<!--                    <attribute name="attrs" >{'invisible': [('operation_type', 'in', ['outgoing'])], 'required': [('operation_type', 'not in', ['outgoing'])], 'readonly': [('state', 'not in', ('draft','confirmed','waiting','partially_available','assigned'))] }</attribute>-->
<!--            		<attribute name="domain" > [('location_id','=',dest_depot_type_id)]</attribute>-->
<!--                </field>-->



<!--            </field>-->
<!--        </record>-->


        <!--  In Depot Dispatch Operations -->
         <record id="view_picking_depot_form" model="ir.ui.view">
            <field name="name">stock.picking.form.depot</field>
            <field name="model">stock.picking</field>
            <field name="arch" type="xml">
                <form string="Transfer">
                <header>
                    <button name="action_confirm" states="draft" string="Mark as Todo" type="object" class="oe_highlight" groups="base.group_user"/>
<!--                    <button name="action_assign" states="confirmed,waiting" string="Check Availability and Reserve" type="object" class="oe_highlight" groups="base.group_user"/>-->
<!--                    <button name="force_assign" states="confirmed,waiting,partially_available" string="Force Availability" type="object" groups="kin_stock.group_force_availability_button"/>-->
                    <button name="button_validate" states="draft,partially_available,assigned" string="Validate" groups="stock.group_stock_user" type="object" class="oe_highlight"/>
<!--                    <button name="do_print_picking" string="Print" groups="stock.group_stock_user" type="object" attrs="{'invisible': [('state', 'not in', ('assigned', 'partially_available'))]}"/>-->
                    <button name="btn_print_loading_ticket" string="Print Loading Ticket"  class="oe_highlight" attrs="{'invisible': [('state', 'not in', ('partially_available','confirmed','waiting'))]}" type="object" groups="kin_loading.group_show_ticket_print_button"  />
                     <button name="btn_print_waybill" string="Print Waybill" states="done" class="oe_highlight" type="object" groups="kin_loading.group_show_waybill_print_button"  />
                    <button name="%(action_block_ticket)d" string="Block Ticket"   type="action" groups="kin_loading.group_show_block_ticket_button" attrs="{'invisible': [('is_block_ticket', '=', True)]}"   confirm="Loading Ticket will be Blocked from being Dispatched" />
                     <button name="%(action_unblock_ticket)d" string="UnBlock Ticket"   type="action" groups="kin_loading.group_show_block_ticket_button" attrs="{'invisible': [('is_block_ticket', '=', False)]}" confirm="Loading Ticket will be Un-Blocked" />
                    <button name="%(stock.act_stock_return_picking)d" string="Reverse" states="done" type="action" groups="base.group_user"/>
                    <button name="action_cancel" states="assigned,confirmed,partially_available,draft,waiting" confirm="WAIT !!! Be very sure of what you about to do, before you do it. Cancellation will nullify this document, and it cannot be restored. Are you sure you want to proceed?" string="Cancel" groups="kin_loading.group_cancel_ticket_button" type="object"/>
<!--                    <button name="do_unreserve" string="Unreserve" groups="base.group_user" type="object" attrs="{'invisible': [('quant_reserved_exist', '=', False)]}"/>-->
<!--                    <button name="do_prepare_partial" attrs="{'invisible': ['|', ('launch_pack_operations', '=', True), '|', ('state', 'not in', ('assigned', 'partially_available')), ('pack_operation_ids', '!=', [])]}"-->
<!--                            string="Reset Operations" type="object"/>-->
<!--                    <field name="launch_pack_operations" invisible="1"/>-->
                    <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,partially_available,assigned,done" statusbar_colors='{"shipping_except":"red","invoice_except":"red","waiting_date":"blue"}'/>
                </header>
                <sheet>

                    <div class="oe_button_box" name="button_box">
                         <button type="object"  name="btn_view_invoices" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('invoice_count', '=', 0)]}" >
                            <field name="invoice_count" widget="statinfo" string="Invoices"/>
                        </button>
                         <button type="object"  name="btn_view_po" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('po_count', '=', 0)]}" >
                                <field name="po_count" widget="statinfo" string="Purchase Order"/>
                        </button>
                         <button type="object"  name="btn_view_so" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('so_count', '=', 0)]}" >
                                <field name="so_count" widget="statinfo" string="Sales Order"/>
                        </button>
<!--                          <button type="object"  name="btn_view_jnr" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('jnr_count', '=', 0)]}"  groups="account.group_account_manager" >-->
<!--                                <field name="jnr_count" widget="statinfo" string="Journal Entries"/>-->
<!--                        </button>-->
                    </div>
                    <h1 class="hidden-xs">
                        <field name="name" attrs="{'invisible': [('name','=','/')]}" readonly="1"/>
                    </h1>

                    <group class="hidden-xs">
                        <group>
                            <field name="partner_id" attrs="{'invisible': [('picking_type_code', '=', 'internal')]}" on_change="onchange_picking_type(picking_type_id,partner_id)"/>
<!--                             <field name="source_depot_type_id" options = "{'no_open':True,'no_create':True}" attrs="{'invisible': [('picking_type_code', 'in', ['incoming'])], 'required': [('picking_type_code', 'not in', ['incoming'])] , 'readonly': [('state', 'not in', ('draft','confirmed','waiting'))] }" domain="[('is_depot_type','=',True)]"    />-->
                            <field name="location_id"  options="{'no_open':True,'no_create':True}" groups="kin_loading.group_show_source_location" attrs="{'invisible': [('picking_type_code', 'in', ['incoming'])], 'required': [('picking_type_code', 'not in', ['incoming'])], 'readonly': [('state', 'not in', ('draft','confirmed','waiting'))]}"   />
                              <field name="loading_programme_id"   options="{'no_open':True,'no_create':True}" attrs="{'invisible': [('is_loading_ticket', '!=', True)]}" readonly="1" />
                             <field name="loading_programme_ids"    options="{'no_open':True,'no_create':True}" attrs="{'invisible': [('is_loading_ticket', '!=', True)]}" readonly="1" />
                            <!--
<field name="dest_depot_type_id" options = "{'no_open':True,'no_create':True}" attrs="{'invisible': [('picking_type_code', 'in', ['outgoing'])], 'required': [('picking_type_code', 'not in', ['outgoing'])], 'readonly': [('state', 'not in', ('draft','confirmed','waiting','partially_available','assigned'))] }" domain="[('is_depot_type','=',True)]"    />-->
                            <field name="location_dest_id" groups="kin_loading.group_show_dest_location" attrs="{'invisible': [('picking_type_code', 'in', ['outgoing'])], 'required': [('picking_type_code', 'not in', ['outgoing'])], 'readonly': [('state', 'not in', ('draft','confirmed','waiting','partially_available','assigned'))] }"/>
                            <field name="backorder_id" readonly="1" attrs="{'invisible': [('backorder_id','=',False)]}"/>
                        </group>
                         <field name="picking_type_code" invisible="1" />
                        <group>
                            <field name="date"/>
                            <field name="origin" placeholder="e.g. PO0032" class="oe_inline"/>
                        </group>
                    </group>
                    <notebook>
                      <page string="Ticket / Waybill Information" attrs="{'invisible': [('is_loading_ticket', '=', False),('is_exdepot_ticket', '=', False),('is_throughput_ticket', '=', False),('is_internal_use_ticket', '=', False)]}">
                       <field name="is_loading_ticket"   invisible="1" />
                          <group col="4" string="Ticket and WayBill Details"  >
                             <field name="product_id" />
                            <field name="ticket_load_qty" />
                            <field name="total_dispatch_qty" />
<!--                            <field name="authorization_form_no" />-->
                            <field name="waybill_no" />
                            <field name="truck_no" />
                            <field name="ticket_date" />
                            <field name="dpr_info_id" domain="[('customer_id','=',partner_id)]" options="{'no_open':True,'no_create':True}"  />
                            <field name="dpr_status" readonly="1"  force_save="1" />
                            <field name="dpr_no" readonly="1"   force_save="1"/>
                            <field name="location_addr_id" />
                            <field name="customer_address" readonly="1" />
                            <field name="valid_driver_license" />
                            <field name="receiving_station_address" invisible="1" />
                            <field name="receiving_station_management" />
                            <field name="receiving_manager_phone" />
                            <field name="loader_id" />
                            <field name="loaded_date" />
                            <field name="seal_no_top" />
                            <field name="seal_no_bottom" />
                            <field name="is_water_content" />
<!--                            <field name="driver_id" domain="[('is_driver','=',True)]" />-->
                            <field name="truck_driver_phone" />
                            <!--<field name="ref_no" />-->
                        </group>
                        <group>
                            <group  col="2" string="Compartment" >
                                <field name="comp1_vol" />
                                <field name="comp2_vol" />
                                <field name="comp3_vol" />
                                <field name="comp4_vol" />
                                <field name="comp5_vol" />
                                <field name="comp6_vol" />
                                <field name="comp7_vol" />
                                <field name="comp8_vol" />
                            </group>
                            <group  col="2" string="Ullage" >
                                <field name="comp1_ullage" />
                                <field name="comp2_ullage" />
                                <field name="comp3_ullage" />
                                <field name="comp4_ullage" />
                                <field name="comp5_ullage" />
                                <field name="comp6_ullage" />
                                 <field name="comp7_ullage" />
                                 <field name="comp8_ullage" />
                            </group>
                        </group>
                        <group>
                            <field name="other_information" />
                        </group>
                    </page>


                    <page string="Ticket Status" attrs="{'invisible': [('is_loading_ticket', '=', True),('is_exdepot_ticket', '=', True),('is_throughput_ticket', '=', False),('is_internal_use_ticket', '=', False)]}">
                        <group col="4"  string="States" >
                            <field name="is_loading_programme_approved" readonly="1" />
                            <field name="is_loading_ticket_printed" groups="kin_loading.group_is_loading_ticket_printed" />
                            <field name="is_waybill_printed" groups="kin_loading.group_is_waybill_printed" />
                            <field name="is_block_ticket" readonly="1" />
                            <field name="block_reason" readonly="1" />
                            <field name="block_date" readonly="1" />
                            <field name="block_user_id" readonly="1" />
                            <field name="unblock_reason" readonly="1" />
                            <field name="unblock_date" readonly="1" />
                            <field name="unblock_user_id" readonly="1" />
                            <field name="is_loading_ticket" readonly="1" />
                            <field name="is_indepot_ticket" readonly="1" />
                            <field name="is_exdepot_ticket" readonly="1" />
                            <field name="is_throughput_ticket" readonly="1" />
                             <field name="is_internal_use_ticket" readonly="1" />
                            <field name="is_retail_station_ticket" readonly="1" />

                        </group>
                        <group col="4"  string="Approvals and Date" >
                             <field name="depot_officer_id" />
                             <field name="dispatch_date" />
                            <field name="driver_id" />
                            <field name="supervisor_officer_id" />
                            <field name="supervisor_date" />
                            <field name="company_id" groups="base.group_multi_company" options="{'no_create': True}"/>
                        </group>
                    </page>

                    </notebook>

                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
                </form>
            </field>
        </record>

         <record id="vpicktree_depot" model="ir.ui.view">
            <field name="name">stock.picking.tree.depot</field>
            <field name="model">stock.picking</field>
            <field name="arch" type="xml" >
                <tree create="0"  string="Picking list">
                    <header>
                         <button name="btn_print_loading_ticket" string="Print Loading Ticket"  class="oe_highlight"  type="object" groups="kin_loading.group_show_ticket_print_button"  />
                    </header>
                    <field name="ticket_id" />
<!--                    <field name="name"/>-->
<!--                    <field name="location_dest_id"/>-->
                    <field name="partner_id" />
                    <field name="waybill_no" />
                    <field name="product_id"  />
                    <field name="ticket_load_qty"  />
                    <field name="date" invisible="1"/>
                    <field name="origin"/>
                    <field name="group_id" invisible="1"/>
                    <field name="state"/>
                    <field name="priority" invisible="1"/>
                    <field name="picking_type_id" invisible="1"/>
                </tree>
            </field>
        </record>

         <record id="action_depot_dispatch" model="ir.actions.act_window">
            <field name="name">In Depot Dispatch Transfers</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
             <field name="view_ids"
                   eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('vpicktree_depot')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_picking_depot_form')})]"/>
            <field name="view_mode">tree,kanban,form,calendar</field>
            <field name="domain">['|',('is_indepot_ticket', '=', True),('is_exdepot_ticket', '=', True)]</field>
            <field name="context">{'search_default_grp_prd': 1,'search_default_grp_cust': 1,'search_default_grp_state': 1}</field>
<!--            <field name="search_view_id" ref="view_picking_form_loader_filter"/>-->
        </record>


        <menuitem id="menu_depot_form" name="In Depot Loading Ticket / Waybill" parent="menu_root_in_depot_operation" sequence="2" action="action_depot_dispatch"/>


<!-- Throughput Operations -->
         <record id="view_picking_throughput_form" model="ir.ui.view">
            <field name="name">stock.picking.form.throughput</field>
            <field name="model">stock.picking</field>
            <field name="arch" type="xml">
                <form string="Transfer">
                <header>
                    <button name="action_confirm" states="draft" string="Mark as Todo" type="object" class="oe_highlight" groups="base.group_user"/>
                    <button name="action_assign" states="confirmed,waiting" string="Check Availability and Reserve" type="object" class="oe_highlight" groups="base.group_user"/>
<!--                    <button name="force_assign" states="confirmed,waiting,partially_available" string="Force Availability" type="object" groups="kin_stock.group_force_availability_button"/>-->
                    <button name="button_validate" states="draft,partially_available,assigned" string="Validate" groups="stock.group_stock_user" type="object" class="oe_highlight"/>
<!--                    <button name="do_print_picking" string="Print" groups="stock.group_stock_user" type="object" attrs="{'invisible': [('state', 'not in', ('assigned', 'partially_available'))]}"/>-->
                    <button name="btn_print_loading_ticket" string="Print Loading Ticket"  class="oe_highlight" attrs="{'invisible': [('state', 'not in', ('partially_available','confirmed','waiting'))]}" type="object" groups="kin_loading.group_show_ticket_print_button"  />
                     <button name="btn_print_waybill" string="Print Waybill" states="done" class="oe_highlight" type="object" groups="kin_loading.group_show_waybill_print_button"  />
                    <button name="%(action_block_ticket)d" string="Block Ticket"   type="action" groups="kin_loading.group_show_block_ticket_button" attrs="{'invisible': [('is_block_ticket', '=', True)]}"   confirm="Loading Ticket will be Blocked from being Dispatched" />
                     <button name="%(action_unblock_ticket)d" string="UnBlock Ticket"   type="action" groups="kin_loading.group_show_block_ticket_button" attrs="{'invisible': [('is_block_ticket', '=', False)]}" confirm="Loading Ticket will be Un-Blocked" />
                    <button name="%(stock.act_stock_return_picking)d" string="Reverse" states="done" type="action" groups="base.group_user"/>
                    <button name="action_cancel" states="assigned,confirmed,partially_available,draft,waiting" confirm="WAIT !!! Be very sure of what you about to do, before you do it. Cancellation will nullify this document, and it cannot be restored. Are you sure you want to proceed?" string="Cancel" groups="kin_loading.group_cancel_ticket_button" type="object"/>
<!--                    <button name="do_unreserve" string="Unreserve" groups="base.group_user" type="object" attrs="{'invisible': [('quant_reserved_exist', '=', False)]}"/>-->
<!--                    <button name="do_prepare_partial" attrs="{'invisible': ['|', ('launch_pack_operations', '=', True), '|', ('state', 'not in', ('assigned', 'partially_available')), ('pack_operation_ids', '!=', [])]}"-->
<!--                            string="Reset Operations" type="object"/>-->
<!--                    <field name="launch_pack_operations" invisible="1"/>-->
                    <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,partially_available,assigned,done" statusbar_colors='{"shipping_except":"red","invoice_except":"red","waiting_date":"blue"}'/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                         <button type="object"  name="btn_view_invoices" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('invoice_count', '=', 0)]}" >
                            <field name="invoice_count" widget="statinfo" string="Invoices"/>
                        </button>
                         <button type="object"  name="btn_view_po" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('po_count', '=', 0)]}" >
                                <field name="po_count" widget="statinfo" string="Purchase Order"/>
                        </button>
                         <button type="object"  name="btn_view_so" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('so_count', '=', 0)]}" >
                                <field name="so_count" widget="statinfo" string="Sales Order"/>
                        </button>
<!--                          <button type="object"  name="btn_view_jnr" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('jnr_count', '=', 0)]}"  groups="account.group_account_manager" >-->
<!--                                <field name="jnr_count" widget="statinfo" string="Journal Entries"/>-->
<!--                        </button>-->
                    </div>
                    <h1 class="hidden-xs">
                        <field name="name" attrs="{'invisible': [('name','=','/')]}" readonly="1"/>
                    </h1>
                    <group class="hidden-xs">
                        <group>
                            <field name="partner_id" attrs="{'invisible': [('picking_type_code', '=', 'internal')]}" on_change="onchange_picking_type(picking_type_id,partner_id)"/>
<!--                             <field name="source_depot_type_id" options = "{'no_open':True,'no_create':True}" attrs="{'invisible': [('picking_type_code', 'in', ['incoming'])], 'required': [('picking_type_code', 'not in', ['incoming'])] , 'readonly': [('state', 'not in', ('draft','confirmed','waiting'))] }" domain="[('is_depot_type','=',True)]"    />-->
                            <field name="location_id"  options="{'no_open':True,'no_create':True}" groups="kin_loading.group_show_source_location" attrs="{'invisible': [('picking_type_code', 'in', ['incoming'])], 'required': [('picking_type_code', 'not in', ['incoming'])], 'readonly': [('state', 'not in', ('draft','confirmed','waiting'))]}"   />
                              <field name="loading_programme_id" options="{'no_open':True,'no_create':True}" attrs="{'invisible': [('is_loading_ticket', '!=', True)]}" />
<!--                            <field name="dest_depot_type_id" options = "{'no_open':True,'no_create':True}" attrs="{'invisible': [('picking_type_code', 'in', ['outgoing'])], 'required': [('picking_type_code', 'not in', ['outgoing'])], 'readonly': [('state', 'not in', ('draft','confirmed','waiting','partially_available','assigned'))] }" domain="[('is_depot_type','=',True)]"    />-->
                            <field name="location_dest_id" groups="kin_loading.group_show_dest_location" attrs="{'invisible': [('picking_type_code', 'in', ['outgoing'])], 'required': [('picking_type_code', 'not in', ['outgoing'])], 'readonly': [('state', 'not in', ('draft','confirmed','waiting','partially_available','assigned'))] }"/>
                            <field name="backorder_id" readonly="1" attrs="{'invisible': [('backorder_id','=',False)]}"/>
                        </group>
                         <field name="picking_type_code" invisible="1" />
                        <group>
                            <field name="date"/>
                            <field name="origin" placeholder="e.g. PO0032" class="oe_inline"/>
                        </group>
                    </group>
                    <notebook>
                         <field name="is_loading_ticket"   invisible="1" />
                      <page string="Ticket / Waybill Information" attrs="{'invisible': [('is_loading_ticket', '=', False),('is_exdepot_ticket', '=', False),('is_throughput_ticket', '=', False),('is_internal_use_ticket', '=', False)]}">
                        <group col="4" string="Ticket and WayBill Details"  >

                            <field name="product_id" />
                            <field name="ticket_load_qty" />
                            <field name="total_dispatch_qty" />
<!--                            <field name="authorization_form_no" />-->
                            <field name="waybill_no" />
                            <field name="truck_no" />
                            <field name="ticket_date" />
                            <field name="dpr_info_id" domain="[('customer_id','=',partner_id)]" options="{'no_open':True,'no_create':True}"  />
                            <field name="dpr_status" readonly="1" />
                            <field name="dpr_no" />
                            <field name="location_addr_id" />
                            <field name="customer_address" readonly="1" />
                            <field name="valid_driver_license" />
                            <field name="receiving_station_address" invisible="1" />
                            <field name="receiving_station_management" />
                            <field name="receiving_manager_phone" />
                            <field name="loader_id" />
                            <field name="loaded_date" />
                            <field name="seal_no_top" />
                            <field name="seal_no_bottom" />
                            <field name="is_water_content" />
<!--                            <field name="driver_id" domain="[('is_driver','=',True)]" />-->
                            <field name="truck_driver_phone" />
                            <!--<field name="ref_no" />-->
                        </group>
                        <group>
                            <group  col="2" string="Compartment" >
                                <field name="comp1_vol" />
                                <field name="comp2_vol" />
                                <field name="comp3_vol" />
                                <field name="comp4_vol" />
                                <field name="comp5_vol" />
                                <field name="comp6_vol" />
                                <field name="comp7_vol" />
                                <field name="comp8_vol" />
                            </group>
                            <group  col="2" string="Ullage" >
                                <field name="comp1_ullage" />
                                <field name="comp2_ullage" />
                                <field name="comp3_ullage" />
                                <field name="comp4_ullage" />
                                <field name="comp5_ullage" />
                                <field name="comp6_ullage" />
                                 <field name="comp7_ullage" />
                                 <field name="comp8_ullage" />
                            </group>
                        </group>
                        <group>
                            <field name="other_information" />
                        </group>

                    </page>

                    <page string="Ticket Status" attrs="{'invisible': [('is_loading_ticket', '=', True),('is_exdepot_ticket', '=', True),('is_throughput_ticket', '=', False),('is_internal_use_ticket', '=', False)]}">

                        <group col="4"  string="States" >
                             <field name="is_loading_ticket_printed" groups="kin_loading.group_is_loading_ticket_printed" />
                            <field name="is_waybill_printed" groups="kin_loading.group_is_waybill_printed" />
                            <field name="is_block_ticket" readonly="1" />
                            <field name="block_reason" readonly="1" />
                            <field name="block_date" readonly="1" />
                            <field name="block_user_id" readonly="1" />
                            <field name="unblock_reason" readonly="1" />
                            <field name="unblock_date" readonly="1" />
                            <field name="unblock_user_id" readonly="1" />
                            <field name="is_loading_ticket" readonly="1" />
                            <field name="is_indepot_ticket" readonly="1" />
                            <field name="is_exdepot_ticket" readonly="1" />
                            <field name="is_throughput_ticket" readonly="1" />
                             <field name="is_internal_use_ticket" readonly="1" />
                            <field name="is_retail_station_ticket" readonly="1" />

                        </group>
                        <group col="4"  string="Approvals and Date" >
                             <field name="depot_officer_id" />
                             <field name="dispatch_date" />
                            <field name="driver_id" />
                            <field name="supervisor_officer_id" />
                            <field name="supervisor_date" />
                            <field name="company_id" groups="base.group_multi_company" options="{'no_create': True}"/>
                        </group>
                    </page>



                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
                </form>
            </field>
        </record>

         <record id="vpicktree_throughput" model="ir.ui.view">
            <field name="name">stock.picking.tree.throughput</field>
            <field name="model">stock.picking</field>
            <field name="arch" type="xml">
<!--                decoration-danger="state not in ('cancel', 'done') and scheduled_date &lt; current_date"-->
                <tree decoration-info="state == 'draft'" decoration-muted="state == 'cancel'"  string="Picking list">
                   <field name="ticket_id" />
<!--                    <field name="name"/>-->
<!--                    <field name="location_dest_id"/>-->
                    <field name="partner_id"/>
                    <field name="waybill_no" />
                    <field name="product_id"  />
                    <field name="ticket_load_qty"  />
                    <field name="date" invisible="1"/>
<!--                    <field name="scheduled_date"/>-->
                    <field name="origin"/>
                    <field name="group_id" invisible="1"/>
                    <field name="backorder_id"/>
                    <field name="state"/>
                    <field name="priority" invisible="1"/>
                    <field name="picking_type_id" invisible="1"/>
                </tree>
            </field>
        </record>

         <record id="action_throughput_dispatch" model="ir.actions.act_window">
            <field name="name">Throughput Dispatch Transfers</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
             <field name="view_ids"
                   eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('vpicktree_throughput')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_picking_throughput_form')})]"/>
            <field name="view_mode">tree,kanban,form,calendar</field>
            <field name="domain">[('is_loading_ticket', '=', True),('is_throughput_ticket', '=', True)]</field>
            <field name="context">{'search_default_grp_prd': 1,'search_default_grp_cust': 1,'search_default_grp_state': 1}</field>
<!--            <field name="search_view_id" ref="view_picking_form_loader_filter"/>-->
        </record>

        <menuitem id="menu_throughput_form" name="Throughput Loading Ticket / Waybill" parent="menu_root_throughput_operation" sequence="3" action="action_throughput_dispatch"/>






<!-- THROUGHPUT RECEIPT -->
        <record id="view_throughput_receipt_form" model="ir.ui.view" >
            <field name="name" >kin.throughput.receipt.form</field>
            <field name="model">kin.throughput.receipt</field>
            <field name="arch" type="xml" >
                <form string="Throughput Receipt" >
                    <header>
                        <button name="action_confirm" type="object" states="draft" string="Confirm and Submit" groups="kin_loading.group_throughput_receipt_confirm_btn"  class="oe_highlight"  />
                        <button name="action_validate" type="object" states="confirm" string="Validate and Update Stock" groups="kin_loading.group_throughput_receipt_validate_btn"  class="oe_highlight" confirm="You are about to validate that the following product with the stated quantity. If you have not finished entering the required information, please click 'Cancel' button, otherwise click 'Ok' button" />
                        <!--<button name="action_cancel" states="validate" type="object" string="Cancel and Reverse" confirm="Are you sure you want to Cancel the document?" groups="base.group_no_one" />-->
                        <button name="action_draft" states="confirm" type="object" string="Reset to Draft" groups="kin_loading.group_throughput_receipt"   />
                        <field name="state" widget="statusbar"  />
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                             <button type="object"  name="btn_view_stock_move" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('stock_move_count', '=', 0)]}"  groups="stock.group_stock_manager" >
                                <field name="stock_move_count" widget="statinfo" string="Stock Moves"/>
                            </button>
                            <button type="object"  name="btn_view_sales_order" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('so_count', '=', 0)]}"   >
                                <field name="so_count" widget="statinfo" string="Sale Order"/>
                            </button>
                            <button name="action_view_invoice"
                                type="object"
                                class="oe_stat_button"
                                icon="fa-pencil-square-o"
                                attrs="{'invisible': [('invoice_count', '=', 0)]}" >
                                <field  name="invoice_count" widget="statinfo" string="Invoice"/>
                            </button>
                        </div>
                        <div class="oe_title">
                            <h1>
                                <field name="name" readonly="1" />
                            </h1>
                        </div>
                        <group col="4">
                            <field name="customer_id"  required="1" />
                            <field name="product_id"  domain="[('white_product','in',['pms','ago','kero','atk','lpfo'])]"  required="1"  attrs="{'readonly': [('state', '!=', 'draft')]}" options="{'no_open':True,'no_create':True}" />
                            <field name="product_uom" readonly="1" />
                            <field name="date_move" attrs="{'readonly': [('state', '!=', 'draft')]}"  required="1" />
                            <field name="received_qty" required="1" />
                            <field name="operational_loss_perc" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}"  />
                            <field name="operational_loss_qty"  />
<!--                            <field name="operational_loss_cost" required="1" />-->
                            <field name="qty"  />
                             <field name="source_location_id"  readonly="1" required="1"  />
                            <field name="user_id" readonly="1"  />
                            <field name="destination_location_id"   required="1" invisible="1" />
<!--                            <field name="destination_oper_loss_location_id"  readonly="1"  required="1" />-->
                            <field name="note"  attrs="{'readonly': [('state', '!=', 'draft')]}" />
                            <field name="create_date" readonly="1" />
                            <field name="user_confirmed_date" readonly="1" />
                            <field name="user_validate_id" readonly="1"  />
                            <field name="user_validated_date" readonly="1"  />
                        </group>
                     </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

                <record id="view_kin_throughput_receipt_tree" model="ir.ui.view" >
            <field name="name" >kin.throughput.receipt.tree</field>
            <field name="model">kin.throughput.receipt</field>
            <field name="arch" type="xml" >
                <tree string="Throughput Receipt" >
                     <field name="name"  />
                    <field name="date_move"  />
                    <field name="product_id"  />
                    <field name="product_uom"  />
                      <field name="received_qty" />
                    <field name="operational_loss_perc" />
                    <field name="operational_loss_qty"  />
                    <field name="qty" />
                    <field name="user_id" />
                    <field name="source_location_id" />
                    <field name="destination_location_id" />
                    <field name="state" />
                </tree>
            </field>
        </record>



<!--         <record id="view_kin_throughput_receipt_filter" model="ir.ui.view">-->
<!--            <field name="name">kin.throughput.receipt.select</field>-->
<!--            <field name="model">kin.throughput.receipt</field>-->
<!--            <field name="arch" type="xml">-->
<!--                <search string="Throughput Receipt">-->
<!--                    <field name="name" string="ID"  filter_domain="['|',('name','ilike',self),('source_location_id','ilike',self)]"/>-->
<!--                    <group expand="0" string="Group By">-->
<!--                        <filter string="Product" domain="[]" context="{'group_by':'product_id'}"/>-->
<!--                         <filter name="grpstatus" string="Status" domain="[]" context="{'group_by':'state'}"/>-->
<!--                    </group>-->
<!--                </search>-->
<!--            </field>-->
<!--        </record>-->

        <record id="action_throughput_receipt_form" model="ir.actions.act_window" >
            <field name="name" >Throughput Receipt</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">kin.throughput.receipt</field>

            <field name="view_mode">tree,form</field>
            <!--<field name="context">{'search_default_grpstatus': 1}</field>-->
<!--            <field name="search_view_id" ref="view_kin_throughput_receipt_filter"/>-->
        </record>

        <menuitem id="menu_stock_throughput_receipt_form" name="Throughput Receipt" parent="menu_root_throughput_operation" sequence="4" action="action_throughput_receipt_form" groups="kin_loading.group_throughput_receipt" />


<!-- Internal Use Operations -->
         <record id="view_picking_internal_use_form" model="ir.ui.view">
            <field name="name">stock.picking.form.internal.use</field>
            <field name="model">stock.picking</field>
            <field name="arch" type="xml">
                <form string="Transfer">
                <header>
                    <button name="action_confirm" states="draft" string="Mark as Todo" type="object" class="oe_highlight" groups="base.group_user"/>
                    <button name="action_assign" states="confirmed,waiting" string="Check Availability and Reserve" type="object" class="oe_highlight" groups="base.group_user"/>
<!--                    <button name="force_assign" states="confirmed,waiting,partially_available" string="Force Availability" type="object" groups="kin_stock.group_force_availability_button"/>-->
                    <button name="button_validate" states="draft,partially_available,assigned" string="Validate" groups="stock.group_stock_user" type="object" class="oe_highlight"/>
<!--                    <button name="do_print_picking" string="Print" groups="stock.group_stock_user" type="object" attrs="{'invisible': [('state', 'not in', ('assigned', 'partially_available'))]}"/>-->
                    <button name="btn_print_loading_ticket" string="Print Loading Ticket"  class="oe_highlight" attrs="{'invisible': [('state', 'not in', ('partially_available','confirmed','waiting'))]}" type="object" groups="kin_loading.group_show_ticket_print_button"  />
                     <button name="btn_print_waybill" string="Print Waybill" states="done" class="oe_highlight" type="object" groups="kin_loading.group_show_waybill_print_button"  />
                    <button name="%(action_block_ticket)d" string="Block Ticket"   type="action" groups="kin_loading.group_show_block_ticket_button" attrs="{'invisible': [('is_block_ticket', '=', True)]}"   confirm="Loading Ticket will be Blocked from being Dispatched" />
                     <button name="%(action_unblock_ticket)d" string="UnBlock Ticket"   type="action" groups="kin_loading.group_show_block_ticket_button" attrs="{'invisible': [('is_block_ticket', '=', False)]}" confirm="Loading Ticket will be Un-Blocked" />
                    <button name="%(stock.act_stock_return_picking)d" string="Reverse" states="done" type="action" groups="base.group_user"/>
                    <button name="action_cancel" states="assigned,confirmed,partially_available,draft,waiting" confirm="WAIT !!! Be very sure of what you about to do, before you do it. Cancellation will nullify this document, and it cannot be restored. Are you sure you want to proceed?" string="Cancel" groups="kin_loading.group_cancel_ticket_button" type="object"/>
<!--                    <button name="do_unreserve" string="Unreserve" groups="base.group_user" type="object" attrs="{'invisible': [('quant_reserved_exist', '=', False)]}"/>-->
<!--                    <button name="do_prepare_partial" attrs="{'invisible': ['|', ('launch_pack_operations', '=', True), '|', ('state', 'not in', ('assigned', 'partially_available')), ('pack_operation_ids', '!=', [])]}"-->
<!--                            string="Reset Operations" type="object"/>-->
<!--                    <field name="launch_pack_operations" invisible="1"/>-->
                    <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,partially_available,assigned,done" statusbar_colors='{"shipping_except":"red","invoice_except":"red","waiting_date":"blue"}'/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                         <button type="object"  name="btn_view_invoices" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('invoice_count', '=', 0)]}" >
                            <field name="invoice_count" widget="statinfo" string="Invoices"/>
                        </button>
                         <button type="object"  name="btn_view_po" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('po_count', '=', 0)]}" >
                                <field name="po_count" widget="statinfo" string="Purchase Order"/>
                        </button>
                         <button type="object"  name="btn_view_so" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('so_count', '=', 0)]}" >
                                <field name="so_count" widget="statinfo" string="Sales Order"/>
                        </button>
<!--                          <button type="object"  name="btn_view_jnr" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('jnr_count', '=', 0)]}"  groups="account.group_account_manager" >-->
<!--                                <field name="jnr_count" widget="statinfo" string="Journal Entries"/>-->
<!--                        </button>-->
                    </div>
                    <h1 class="hidden-xs">
                        <field name="name" attrs="{'invisible': [('name','=','/')]}" readonly="1"/>
                    </h1>
                 <group class="hidden-xs">
                        <group>
                            <field name="partner_id" attrs="{'invisible': [('picking_type_code', '=', 'internal')]}" on_change="onchange_picking_type(picking_type_id,partner_id)"/>
<!--                             <field name="source_depot_type_id" options = "{'no_open':True,'no_create':True}" attrs="{'invisible': [('picking_type_code', 'in', ['incoming'])], 'required': [('picking_type_code', 'not in', ['incoming'])] , 'readonly': [('state', 'not in', ('draft','confirmed','waiting'))] }" domain="[('is_depot_type','=',True)]"    />-->
                            <field name="location_id"  options="{'no_open':True,'no_create':True}" groups="kin_loading.group_show_source_location" attrs="{'invisible': [('picking_type_code', 'in', ['incoming'])], 'required': [('picking_type_code', 'not in', ['incoming'])], 'readonly': [('state', 'not in', ('draft','confirmed','waiting'))]}"   />
                              <field name="loading_programme_id" options="{'no_open':True,'no_create':True}" attrs="{'invisible': [('is_loading_ticket', '!=', True)]}" />
<!--                            <field name="dest_depot_type_id" options = "{'no_open':True,'no_create':True}" attrs="{'invisible': [('picking_type_code', 'in', ['outgoing'])], 'required': [('picking_type_code', 'not in', ['outgoing'])], 'readonly': [('state', 'not in', ('draft','confirmed','waiting','partially_available','assigned'))] }" domain="[('is_depot_type','=',True)]"    />-->
                            <field name="location_dest_id" groups="kin_loading.group_show_dest_location" attrs="{'invisible': [('picking_type_code', 'in', ['outgoing'])], 'required': [('picking_type_code', 'not in', ['outgoing'])], 'readonly': [('state', 'not in', ('draft','confirmed','waiting','partially_available','assigned'))] }"/>
                            <field name="backorder_id" readonly="1" attrs="{'invisible': [('backorder_id','=',False)]}"/>
                        </group>
                         <field name="picking_type_code" invisible="1" />
                        <group>
                            <field name="date"/>
                            <field name="origin" placeholder="e.g. PO0032" class="oe_inline"/>
                        </group>
                    </group>
                    <notebook>
                      <page string="Ticket / Waybill Information" attrs="{'invisible': [('is_loading_ticket', '=', False),('is_exdepot_ticket', '=', False),('is_throughput_ticket', '=', False),('is_internal_use_ticket', '=', False)]}">
                         <field name="is_loading_ticket"   invisible="1" />
                          <group col="4" string="Ticket and WayBill Details"  >
                            <field name="product_id" />
                            <field name="ticket_load_qty" />
                            <field name="total_dispatch_qty" />
<!--                            <field name="authorization_form_no" />-->
                            <field name="waybill_no" />
                            <field name="truck_no" />
                            <field name="ticket_date" />
                            <field name="dpr_info_id" domain="[('customer_id','=',partner_id)]" options="{'no_open':True,'no_create':True}"  />
                            <field name="dpr_status" readonly="1" />
                            <field name="dpr_no" />
                            <field name="location_addr_id" />
                            <field name="customer_address" readonly="1" />
                            <field name="valid_driver_license" />
                            <field name="receiving_station_address" invisible="1" />
                            <field name="receiving_station_management" />
                            <field name="receiving_manager_phone" />
                            <field name="loader_id" />
                            <field name="loaded_date" />
                            <field name="seal_no_top" />
                            <field name="seal_no_bottom" />
                            <field name="is_water_content" />
<!--                            <field name="driver_id" domain="[('is_driver','=',True)]" />-->
                            <field name="truck_driver_phone" />
                            <!--<field name="ref_no" />-->
                        </group>
                        <group>
                            <group  col="2" string="Compartment" >
                                <field name="comp1_vol" />
                                <field name="comp2_vol" />
                                <field name="comp3_vol" />
                                <field name="comp4_vol" />
                                <field name="comp5_vol" />
                                <field name="comp6_vol" />
                                <field name="comp7_vol" />
                                <field name="comp8_vol" />
                            </group>
                            <group  col="2" string="Ullage" >
                                <field name="comp1_ullage" />
                                <field name="comp2_ullage" />
                                <field name="comp3_ullage" />
                                <field name="comp4_ullage" />
                                <field name="comp5_ullage" />
                                <field name="comp6_ullage" />
                                <field name="comp7_ullage" />
                                <field name="comp8_ullage" />
                            </group>
                        </group>
                        <group>
                            <field name="other_information" />
                        </group>

                    </page>

                    <page string="Ticket Status" attrs="{'invisible': [('is_loading_ticket', '=', True),('is_exdepot_ticket', '=', True),('is_throughput_ticket', '=', False),('is_internal_use_ticket', '=', False)]}">
                        <group col="4"  string="States" >
                             <field name="is_loading_ticket_printed" groups="kin_loading.group_is_loading_ticket_printed" />
                            <field name="is_waybill_printed" groups="kin_loading.group_is_waybill_printed" />
                            <field name="is_block_ticket" readonly="1" />
                            <field name="block_reason" readonly="1" />
                            <field name="block_date" readonly="1" />
                            <field name="block_user_id" readonly="1" />
                            <field name="unblock_reason" readonly="1" />
                            <field name="unblock_date" readonly="1" />
                            <field name="unblock_user_id" readonly="1" />
                            <field name="is_loading_ticket" readonly="1" />
                            <field name="is_indepot_ticket" readonly="1" />
                            <field name="is_exdepot_ticket" readonly="1" />
                            <field name="is_throughput_ticket" readonly="1" />
                             <field name="is_internal_use_ticket" readonly="1" />
                            <field name="is_retail_station_ticket" readonly="1" />
                        </group>
                        <group col="4"  string="Approvals and Date" >
                             <field name="depot_officer_id" />
                             <field name="dispatch_date" />
                            <field name="driver_id" />
                            <field name="supervisor_officer_id" />
                            <field name="supervisor_date" />
                            <field name="company_id" groups="base.group_multi_company" options="{'no_create': True}"/>
                        </group>
                    </page>

                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
                </form>
            </field>
        </record>

         <record id="vpicktree_internal_use" model="ir.ui.view">
            <field name="name">stock.picking.tree.internal.use</field>
            <field name="model">stock.picking</field>
            <field name="arch" type="xml">
                <!--                decoration-danger="state not in ('cancel', 'done') and scheduled_date &lt; current_date"-->
                <tree decoration-info="state == 'draft'" decoration-muted="state == 'cancel'" string="Picking list">
                   <field name="ticket_id" />
<!--                    <field name="name"/>-->
<!--                    <field name="location_dest_id"/>-->
                    <field name="partner_id"/>
                    <field name="waybill_no" />
                    <field name="product_id"  />
                    <field name="ticket_load_qty"  />
                    <field name="date" invisible="1"/>
<!--                    <field name="scheduled_date"/>-->
                    <field name="origin"/>
                    <field name="group_id" invisible="1"/>
                    <field name="backorder_id"/>
                    <field name="state"/>
                    <field name="priority" invisible="1"/>
                    <field name="picking_type_id" invisible="1"/>
                </tree>
            </field>
        </record>

         <record id="action_internal_use_dispatch" model="ir.actions.act_window">
            <field name="name">Internal Use Dispatch Transfers</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
             <field name="view_ids"
                   eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('vpicktree_internal_use')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_picking_internal_use_form')})]"/>
            <field name="view_mode">tree,kanban,form,calendar</field>
            <field name="domain">[('is_loading_ticket', '=', True),('is_internal_use_ticket', '=', True)]</field>
            <field name="context">{'search_default_grp_prd': 1,'search_default_grp_cust': 1,'search_default_grp_state': 1}</field>
<!--            <field name="search_view_id" ref="view_picking_form_loader_filter"/>-->
        </record>



        <menuitem id="menu_internal_use_form" name="Internal Use Loading Ticket / Waybill" parent="menu_root_internal_use_operation" sequence="3" action="action_internal_use_dispatch"/>


        <!-- Internal Use Transfer -->
        <record id="view_internal_use_form" model="ir.ui.view" >
            <field name="name" >kin.internal.use.form</field>
            <field name="model">kin.internal.use</field>
            <field name="arch" type="xml" >
                <form string="Internal Use" >
                    <header>
                        <button name="action_confirm" type="object" states="draft" string="Confirm" groups="kin_loading.group_internal_use_confirm_btn"  class="oe_highlight"  />
                        <button name="action_validate" type="object" states="confirm" string="Validate" groups="kin_loading.group_internal_use_validate_btn"  class="oe_highlight" confirm="You are about to validate that the following product with the stated quantity. If you have not finished entering the required information, please click 'Cancel' button, otherwise click 'Ok' button" />
                        <!--<button name="action_cancel" states="validate" type="object" string="Cancel and Reverse" confirm="Are you sure you want to Cancel the document?" groups="base.group_no_one" />-->
                        <button name="action_draft" states="confirm" type="object" string="Reset to Draft" groups="kin_loading.group_internal_use"   />
                        <field name="state" widget="statusbar"  />
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button type="object"  name="btn_view_sales_order" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('so_count', '=', 0)]}"   >
                                <field name="so_count" widget="statinfo" string="Sale Order"/>
                            </button>
                        </div>
                        <div class="oe_title">
                            <h1>
                                <field name="name" readonly="1" />
                            </h1>
                        </div>
                        <group col="4">
                            <field name="product_id" domain="[('white_product','in',['pms','ago','kero','atk'])]"   required="1" attrs="{'readonly': [('state', '!=', 'draft')]}" options="{'no_open':True,'no_create':True}" />
                            <field name="date_move" attrs="{'readonly': [('state', '!=', 'draft')]}"  required="1" />
                            <field name="product_uom" readonly="1" />
                            <field name="qty"  />
                             <field name="source_location_id"   required="1"  domain="[('is_internal_use_source_location','=',True)]" options="{'no_open':True,'no_create':True}" />
                            <field name="user_id" readonly="1"   />
                            <field name="destination_location_id"   required="1" domain="[('is_internal_use_destination_location','=',True)]"  options="{'no_open':True,'no_create':True}" />
                            <field name="note" string="Description" required="1"   attrs="{'readonly': [('state', '!=', 'draft')]}" />
                            <field name="create_date" readonly="1" />
                            <field name="user_confirmed_date" readonly="1" />
                            <field name="user_validate_id" readonly="1"  />
                            <field name="user_validated_date" readonly="1"  />
                        </group>
                     </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

                <record id="view_kin_internal_use_tree" model="ir.ui.view" >
            <field name="name" >kin.internal.use.tree</field>
            <field name="model">kin.internal.use</field>
            <field name="arch" type="xml" >
                <tree string="Internal Use" >
                     <field name="name"  />
                    <field name="date_move"  />
                    <field name="product_id"  />
                    <field name="product_uom"  />
                    <field name="qty" />
                    <field name="user_id" />
                    <field name="source_location_id" />
                    <field name="destination_location_id" />
                    <field name="state" />
                </tree>
            </field>
        </record>



<!--         <record id="view_kin_internal_use_filter" model="ir.ui.view">-->
<!--            <field name="name">kin.internal.use.select</field>-->
<!--            <field name="model">kin.internal.use</field>-->
<!--            <field name="arch" type="xml">-->
<!--                <search string="Internal Use">-->
<!--                    <field name="name" string="ID"  filter_domain="['|',('name','ilike',self),('source_location_id','ilike',self)]"/>-->
<!--                    <group expand="0" string="Group By">-->
<!--                        <filter string="Product" domain="[]" context="{'group_by':'product_id'}"/>-->
<!--                         <filter name="grpstatus" string="Status" domain="[]" context="{'group_by':'state'}"/>-->
<!--                    </group>-->
<!--                </search>-->
<!--            </field>-->
<!--        </record>-->

        <record id="action_internal_use_form" model="ir.actions.act_window" >
            <field name="name" >Internal Use</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">kin.internal.use</field>
            <field name="view_mode">tree,form</field>
            <field name="view_ids"
                   eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('view_kin_internal_use_tree')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_internal_use_form')})]"/>
            <!--<field name="context">{'search_default_grpstatus': 1}</field>-->
<!--            <field name="search_view_id" ref="view_kin_internal_use_filter"/>-->
        </record>

        <menuitem id="menu_stock_internal_use_form" name="Internal Use Transfer" parent="menu_root_internal_use_operation" sequence="4" action="action_internal_use_form" groups="kin_loading.group_internal_use" />


        <!-- Stock Move -->
<!--        <record id="view_move_form_loading_extend" model="ir.ui.view">-->
<!--            <field name="name">stock.move.form.loading.extend</field>-->
<!--            <field name="model">stock.move</field>-->
<!--            <field name="inherit_id" ref="stock.view_move_form" />-->
<!--            <field name="arch" type="xml">-->
<!--                    <group name="destination_grp" position="after" >-->
<!--                        <group string="Loading" colspan="4">-->
<!--                            <field name="throughput_receipt_movement_id" />-->
<!--                            <field name="throughput_so_transfer_movement_id" />-->
<!--                        </group>-->
<!--                    </group>-->
<!--            </field>-->
<!--        </record>-->

        <!--In  Depot Sales Order -->
        <record id="action_orders_sale_in_depot" model="ir.actions.act_window">
            <field name="name">In Depot Sales Orders</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">sale.order</field>
            <field name="view_mode">tree,kanban,form,calendar,pivot,graph</field>
            <field name="search_view_id" ref="sale.view_sales_order_filter"/>
            <field name="context">{'show_sale': True}</field>
            <field name="domain">[('is_throughput_order', '=', False),('is_internal_use_order', '=', False)]</field>
        </record>
        <menuitem action="action_orders_sale_in_depot" id="menu_sale_order_in_depot" parent="sale.sale_order_menu" sequence="12" />

        <!-- Throughput Sales Order -->
        <record id="action_orders_sale_throughput" model="ir.actions.act_window">
            <field name="name">Throughput Sales Orders</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">sale.order</field>
            <field name="view_mode">tree,kanban,form,calendar,pivot,graph</field>
            <field name="search_view_id" ref="sale.view_sales_order_filter"/>
            <field name="context">{'show_sale': True}</field>
            <field name="domain">[('is_throughput_order', '=', True)]</field>
        </record>
        <menuitem action="action_orders_sale_throughput" id="menu_sale_order_throughput" parent="sale.sale_order_menu" sequence="12" />


         <!-- Internal Sales Order -->
        <record id="action_orders_sale_internal_use" model="ir.actions.act_window">
            <field name="name">Internal Use Orders</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">sale.order</field>

            <field name="view_mode">tree,kanban,form,calendar,pivot,graph</field>
            <field name="search_view_id" ref="sale.view_sales_order_filter"/>
            <field name="context">{'show_sale': True}</field>
            <field name="domain">[('is_internal_use_order', '=', True)]</field>
        </record>

        <menuitem action="action_orders_sale_internal_use" id="menu_sale_order_internal_use" parent="sale.sale_order_menu" sequence="13" />


        <!-- Throughput  invoice -->
        <record id="action_invoice_tree1_loading_throughput_extend" model="ir.actions.act_window">
            <field name="name">Throughput Invoices</field>
            <field name="res_model">account.move</field>

            <field name="view_mode">tree,kanban,form,calendar,pivot,graph</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('type','in',('out_invoice', 'out_refund')),('is_throughput_invoice','=',True)]</field>
            <field name="context">{'default_type':'out_invoice', 'type':'out_invoice', 'journal_type': 'sale'}</field>
            <field name="search_view_id" ref="account.view_account_invoice_filter"/>
        </record>

        <menuitem action="action_invoice_tree1_loading_throughput_extend" id="menu_action_invoice_tree1_loading_throughput" parent="account.menu_finance_receivables" sequence="2"/>


        <record id="product_template_form_extend_loading" model="ir.ui.view">
            <field name="name">product.template.form.extend.loading</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_form_view"/>
            <field name="arch" type="xml">
                <field name="categ_id" position="after">
                   <field name="white_product" />
                    <field name="account_unearned_revenue_id"  />
                     <field name="product_deferred_revenue_id" domain="[('is_deferred_revenue','=',True)]" />
                </field>
                <div name="options" position="inside" >
                         <div>
                             <field name="is_deferred_revenue"/>
                             <label for="is_deferred_revenue"/>
                         </div>
                    </div>
            </field>
        </record>


        <!-- Depot -->
         <record id="view_depot_form" model="ir.ui.view" >
            <field name="name" >depot.form</field>
            <field name="model">depot</field>
            <field name="arch" type="xml" >
                <form string="Depot" >
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button type="object"  name="btn_view_stock_location" class="oe_stat_button" icon="fa-bars" attrs="{'invisible': [('stock_location_count', '=', 0)]}"  groups="stock.group_stock_manager" >
                                <field name="stock_location_count" widget="statinfo" string="Stock Location(s)"/>
                            </button>
                        </div>
                        <group col="4">
                             <field name="name" required="1" />
                            <field name="location_id" />
                            <field name="usage" required="1" />
<!--                            <field name="product_id" required="1" domain="[('white_product','in',['pms','ago','kero','atk','lpfo'])]"  />-->
<!--                            <field name="product_uom" required="1" />-->
                        </group>
                        <notebook>
                            <page string="Purchase Orders" name="sale_order">
                                <field name="purchase_order_ids" />
                            </page>
                            <page string="Sales Orders" name="sale_order">
                                <field name="sale_order_ids" />
                            </page>
                        </notebook>
                    </sheet>
                     <div class="oe_chatter">
                        <field name="message_follower_ids"/>
                        <field name="activity_ids"/>
                        <field name="message_ids"/>
                    </div>
                </form>
            </field>
         </record>

        <record id="view_depot_tree" model="ir.ui.view" >
            <field name="name" >depot.tree</field>
            <field name="model">depot</field>
            <field name="arch" type="xml" >
                <tree string="Depot" >
                     <field name="name"  />
                           <field name="location_id" />
                            <field name="usage" required="1" />
<!--                            <field name="product_id" required="1" />-->
<!--                            <field name="product_uom" required="1" />-->
                </tree>
            </field>
        </record>

        <record id="view_depot_filter" model="ir.ui.view">
            <field name="name">depot.select</field>
            <field name="model">depot</field>
            <field name="arch" type="xml">
                <search string="Depot Filter">
                    <field name="name" string="Depot"  filter_domain="['|',('name','ilike',self),('product_id','ilike',self)]"/>
                    <group expand="0" string="Group By">
<!--                        <filter name="grpPrd" string="Product" domain="[]" context="{'group_by':'product_id'}"/>-->
                    </group>
                </search>
            </field>
        </record>

        <record id="action_depot_form" model="ir.actions.act_window" >
            <field name="name" >Depot</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">depot</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_depot_filter"/>
<!--            <field name="context">{'search_default_grpPrd': 1}</field>-->
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a Depot
              </p>
            </field>
        </record>
        <menuitem id="menu_depot" name="Depot" parent="menu_root_atl" sequence="4" action="action_depot_form"/>


        <!-- Jetty -->
        <record id="view_jetty_form" model="ir.ui.view" >
            <field name="name" >jetty.form</field>
            <field name="model">jetty</field>
            <field name="arch" type="xml" >
                <form string="jetty" >
                    <sheet>
                        <group col="4">
                             <field name="name" required="1" />
                            <field name="description" />
                        </group>
                    </sheet>
                     <div class="oe_chatter">
                        <field name="message_follower_ids"/>
                        <field name="activity_ids"/>
                        <field name="message_ids"/>
                    </div>
                </form>
            </field>
         </record>

        <record id="view_jetty_tree" model="ir.ui.view" >
            <field name="name" >jetty.tree</field>
            <field name="model">jetty</field>
            <field name="arch" type="xml" >
                <tree string="jetty" >
                      <field name="name" required="1" />
                    <field name="description" />
                </tree>
            </field>
        </record>

        <record id="view_jetty_filter" model="ir.ui.view">
            <field name="name">jetty.select</field>
            <field name="model">jetty</field>
            <field name="arch" type="xml">
                <search string="jetty Filter">
                    <field name="name" string="jetty"  filter_domain="['|',('name','ilike',self),('description','ilike',self)]"/>

                </search>
            </field>
        </record>

        <record id="action_jetty_form" model="ir.actions.act_window" >
            <field name="name" >Jetty</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">jetty</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_jetty_filter"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a Jetty
              </p>
            </field>
        </record>
        <menuitem id="menu_jetty" name="Jetty" parent="menu_root_atl" sequence="5" action="action_jetty_form"/>


        <!-- Payment Mode -->
        <record id="view_payment_mode_form" model="ir.ui.view" >
            <field name="name" >payment.mode.form</field>
            <field name="model">payment.mode</field>
            <field name="arch" type="xml" >
                <form string="Payment Mode" >
                    <sheet>
                        <group col="4">
                             <field name="name" required="1" />
                        </group>
                    </sheet>
                     <div class="oe_chatter">
                        <field name="message_follower_ids"/>
                        <field name="activity_ids"/>
                        <field name="message_ids"/>
                    </div>
                </form>
            </field>
         </record>

        <record id="view_payment_mode_tree" model="ir.ui.view" >
            <field name="name" >payment.mode.tree</field>
            <field name="model">payment.mode</field>
            <field name="arch" type="xml" >
                <tree string="payment mode" >
                      <field name="name" />
                </tree>
            </field>
        </record>

        <record id="view_payment_mode_filter" model="ir.ui.view">
            <field name="name">payment.mode.select</field>
            <field name="model">payment.mode</field>
            <field name="arch" type="xml">
                <search string="Payment Mode Filter">
                    <field name="name" string="payment_mode"  filter_domain="['|',('name','ilike',self),('description','ilike',self)]"/>

                </search>
            </field>
        </record>

        <record id="action_payment_mode_form" model="ir.actions.act_window" >
            <field name="name" >Payment Mode</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">payment.mode</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_payment_mode_filter"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a Payment Mode
              </p>
            </field>
        </record>
        <menuitem id="menu_payment_mode" name="Mode of Payment" parent="menu_root_atl" sequence="6" action="action_payment_mode_form"/>



        <!-- Purchase Form -->
         <record id="purchase_order_form_depot_extend" model="ir.ui.view">
            <field name="name">purchase.order.form.depot.extend</field>
            <field name="model">purchase.order</field>
            <field name="inherit_id" ref="purchase.purchase_order_form" />
            <field name="arch" type="xml">
                <xpath expr="//form" position="attributes" >
                    <attribute name="duplicate">0</attribute>
                </xpath>
                <field name="partner_ref" position="after" >
                     <field name="depot_id" options ="{'no_open':True,'no_create':True}" groups="kin_loading.group_show_depot_on_po" />
                </field>

            </field>
         </record>


         <!-- DRP INFO -->
        <record id="view_dpr_info_form" model="ir.ui.view" >
            <field name="name" >dpr.info.form</field>
            <field name="model">dpr.info</field>
            <field name="arch" type="xml" >
                <form string="DRP Information" >
                    <sheet>
                        <group col="4">
                            <field name="customer_id" required="1" />
                            <field name="address" required="1" />
                            <field name="dpr_no" required="1" />
                            <field name="dpr_expiry_date" />
                        </group>
                     </sheet>
                </form>
            </field>
        </record>

        <record id="view_dpr_info_tree" model="ir.ui.view" >
            <field name="name" >dpr.info.tree</field>
            <field name="model">dpr.info</field>
            <field name="arch" type="xml" >
                <tree string="DRP Information " >
                    <field name="customer_id" />
                    <field name="address" />
                    <field name="dpr_no" />
                    <field name="dpr_expiry_date" />
                </tree>
            </field>
        </record>

        <record id="view_dpr_info_filter" model="ir.ui.view">
            <field name="name">dpr.info.select</field>
            <field name="model">dpr.info</field>
            <field name="arch" type="xml">
                <search string="DPR Information Filter">
                    <field name="customer_id" string="Customer"  filter_domain="[('customer_id','ilike',self)]"/>
                    <group expand="0" string="Group By">
                         <filter name="grpcust" string="Customer" domain="[]" context="{'group_by':'customer_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_dpr_info_form" model="ir.actions.act_window" >
            <field name="name" >DRP Information</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">dpr.info</field>
            <field name="view_mode">tree,form</field>
             <field name="context">{'search_default_grpcust':True}</field>
             <field name="search_view_id" ref="view_dpr_info_filter"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a DRP Information for a customer
              </p>
            </field>
        </record>
        <menuitem id="menu_dpr_info_form" name="DRP Information" parent="menu_depot_configuration" sequence="1" action="action_dpr_info_form"/>


        <!-- Res Partner -->
        <record id="view_res_partner_loading_extend" model="ir.ui.view">
            <field name="name" >res.partner.loading.extend</field>
            <field name="model" >res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                 <field name="function" position="before" >
                     <field  name="throughput_location_id" invisible="1" />
                 </field>
                <notebook position="inside" >
                    <page string="DRP Informations">
                             <field name="dpr_info_ids"  >
                                 <tree editable="bottom" >
                                    <field name="address" required="1" />
                                    <field name="dpr_no" required="1" />
                                    <field name="dpr_expiry_date" />
                                </tree>
                             </field>
                    </page>
                </notebook>
            </field>
        </record>

        <!-- Stock Scrap -->
        <record id="stock_scrap_form_view" model="ir.ui.view">
            <field name="name">stock.scrap.form</field>
            <field name="model">stock.scrap</field>
            <field name="inherit_id" ref="stock.stock_scrap_form_view" />
            <field name="arch" type="xml">
                <field name="lot_id"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                    <attribute name="options" >{'no_open':True,'no_create':True}</attribute>
                </field>
            </field>
        </record>

        <record id="stock_scrap_form_view2" model="ir.ui.view">
            <field name="name">stock.scrap.form2</field>
            <field name="model">stock.scrap</field>
             <field name="inherit_id" ref="stock.stock_scrap_form_view" />
            <field name="arch" type="xml">
                <field name="lot_id"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                    <attribute name="options" >{'no_open':True,'no_create':True}</attribute>
                </field>
            </field>
        </record>

        <!-- Stock Quant -->
        <record id="quant_search_view" model="ir.ui.view">
        <field name="name">stock.quant.search</field>
        <field name="model">stock.quant</field>
        <field name="inherit_id" ref="stock.quant_search_view" />
            <field name="arch" type="xml">
                <field name="lot_id"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                    <attribute name="options" >{'no_open':True,'no_create':True}</attribute>
                </field>
            </field>
        </record>

        <record model="ir.ui.view" id="view_stock_quant_form_editable">
        <field name="name">stock.quant.form.editable</field>
        <field name="model">stock.quant</field>
        <field eval="11" name="priority"/>
        <field name="inherit_id" ref="stock.view_stock_quant_form_editable" />
            <field name="arch" type="xml">
                <field name="lot_id"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                    <attribute name="options" >{'no_open':True,'no_create':True}</attribute>
                </field>
            </field>
        </record>

        <record model="ir.ui.view" id="view_stock_quant_form">
        <field name="name">stock.quant.form</field>
        <field name="model">stock.quant</field>
        <field eval="10" name="priority"/>
        <field name="inherit_id" ref="stock.view_stock_quant_form_editable" />
            <field name="arch" type="xml">
                <field name="lot_id"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                    <attribute name="options" >{'no_open':True,'no_create':True}</attribute>
                </field>
            </field>
        </record>

        <record model="ir.ui.view" id="view_stock_quant_tree_editable">
        <field name="name">stock.quant.tree.editable</field>
        <field name="model">stock.quant</field>
        <field eval="10" name="priority"/>
         <field name="inherit_id" ref="stock.view_stock_quant_tree_editable" />
            <field name="arch" type="xml">
                <field name="lot_id"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                    <attribute name="options" >{'no_open':True,'no_create':True}</attribute>
                </field>
            </field>
        </record>

        <record model="ir.ui.view" id="view_stock_quant_tree">
        <field name="name">stock.quant.tree</field>
        <field name="model">stock.quant</field>
        <field eval="10" name="priority"/>
         <field name="inherit_id" ref="stock.view_stock_quant_tree" />
            <field name="arch" type="xml">
                <field name="lot_id"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                    <attribute name="options" >{'no_open':True,'no_create':True}</attribute>
                </field>

            </field>
        </record>

        <record model="ir.ui.view" id="view_quant_package_form">
        <field name="name">stock.quant.package.form</field>
        <field name="model">stock.quant.package</field>
        <field eval="10" name="priority"/>
        <field name="inherit_id" ref="stock.view_quant_package_form" />
            <field name="arch" type="xml">
                <field name="lot_id"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                    <attribute name="options" >{'no_open':True,'no_create':True}</attribute>
                </field>
            </field>
        </record>

        <!-- Stock move lines -->
        <record id="view_move_line_tree" model="ir.ui.view">
        <field name="name">stock.move.line.tree</field>
        <field name="model">stock.move.line</field>
        <field name="inherit_id" ref="stock.view_move_line_tree" />
            <field name="arch" type="xml">
                <field name="lot_id"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                    <attribute name="options" >{'no_open':True,'no_create':True}</attribute>
                </field>
            </field>
        </record>

        <record id="view_move_line_form" model="ir.ui.view">
        <field name="name">stock.move.line.form</field>
        <field name="model">stock.move.line</field>
        <field name="inherit_id" ref="stock.view_move_line_form" />
            <field name="arch" type="xml">
                <field name="lot_id"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                    <attribute name="options" >{'no_open':True,'no_create':True}</attribute>
                </field>
                <field name="lot_name"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                </field>
            </field>
        </record>

        <record id="view_stock_move_line_kanban" model="ir.ui.view">
        <field name="name">stock.move.line.kanban</field>
        <field name="model">stock.move.line</field>
        <field name="inherit_id" ref="stock.view_stock_move_line_kanban" />
            <field name="arch" type="xml">
                <field name="lot_id"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                    <attribute name="options" >{'no_open':True,'no_create':True}</attribute>
                </field>
                <field name="lot_name"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                </field>
            </field>
        </record>

        <record id="view_stock_move_line_operation_tree" model="ir.ui.view">
            <field name="name">stock.move.line.operations.tree</field>
            <field name="model">stock.move.line</field>
            <field name="priority">1000</field>
            <field name="inherit_id" ref="stock.view_stock_move_line_operation_tree" />
            <field name="arch" type="xml">
                <field name="lot_id"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                    <attribute name="options" >{'no_open':True,'no_create':True}</attribute>
                </field>
                <field name="lot_name"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                </field>
            </field>
        </record>

         <record id="view_stock_move_line_detailed_operation_tree" model="ir.ui.view">
            <field name="name">stock.move.line.operations.tree</field>
            <field name="model">stock.move.line</field>
            <field name="priority">1000</field>
            <field name="inherit_id" ref="stock.view_stock_move_line_detailed_operation_tree" />
            <field name="arch" type="xml">
                <field name="lot_id"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                     <attribute name="options" >{'no_open':True,'no_create':True}</attribute>
                </field>
                <field name="lot_name"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                </field>
            </field>
        </record>

        <!-- Stock package -->
        <record id="package_level_form_view" model="ir.ui.view">
        <field name="name">Package Level</field>
        <field name="model">stock.package_level</field>
        <field name="inherit_id" ref="stock.package_level_form_view" />
            <field name="arch" type="xml">
                <field name="lot_id"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                    <attribute name="options" >{'no_open':True,'no_create':True}</attribute>
                </field>
                <field name="lot_name"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                </field>
            </field>
        </record>

        <!-- Stock package destination -->
        <record id="stock_package_destination_form_view" model="ir.ui.view">
        <field name="name">stock.package.destination.view</field>
        <field name="model">stock.package.destination</field>
        <field name="inherit_id" ref="stock.stock_package_destination_form_view" />
            <field name="arch" type="xml">
                <field name="lot_id"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                    <attribute name="options" >{'no_open':True,'no_create':True}</attribute>
                </field>

            </field>
        </record>

        <!-- Stock warn insufficient type -->
        <record id="stock_warn_insufficient_qty_form_view" model="ir.ui.view">
        <field name="name">stock.warn.insufficient.qty</field>
        <field name="model">stock.warn.insufficient.qty</field>
        <field name="inherit_id" ref="stock.stock_warn_insufficient_qty_form_view" />
            <field name="arch" type="xml">
                <field name="lot_id"  position="attributes" >
                    <attribute name="string" >Vessel</attribute>
                    <attribute name="options" >{'no_open':True,'no_create':True}</attribute>
                </field>
            </field>
        </record>

        <!-- Lots/Serial number -->
        <record id="view_production_lot_form" model="ir.ui.view">
        <field name="name">stock.production.lot.form</field>
        <field name="model">stock.production.lot</field>
        <field name="priority">10</field>
        <field name="inherit_id" ref="stock.view_production_lot_form" />
            <field name="arch" type="xml">
                <label for="name" class="oe_edit_only" position="replace" >
                    <label  string="Vessel"  for="name" class="oe_edit_only"/>
                </label>

                 <field name="product_id"  position="attributes" >
                    <attribute name="options" >{'no_open':True,'no_create':True}</attribute>
                </field>
            </field>
        </record>
        <record id="stock.action_production_lot_form" model="ir.actions.act_window">
            <field name="name">Vessels</field>
        </record>






    </data>
</odoo>
